/* Pub Time: August 20, 2013 01:30:41 */(function(k){function n(b,d,c){"undefined"==typeof c&&(c=!0);for(var a in d)if("Object"===Object.prototype.toString.call(d[a]))arguments.callee(b,d[a]);else if(!b[a]||c)b[a]=d[a];return b}function p(b){b.innerHTML=""}function q(b){""===this.elems.carrier.value&&(b.innerHTML=this._.placeholder)}function g(b,d){return b.currentStyle?b.currentStyle[d]:k.getComputedStyle(b,null)[d]}var l=new Abstract({setValue:function(){},initPage:function(){}}),f=null,e=null,o="",h=new Clazz(l,{config:{carrier:null,
control:{unifieddisplay:!1},style:{color:"#BBB",fontFamily:""},onchange:null},inherit:Component},function(b){this.setConfig(b);this._.support="placeholder"in document.createElement("input");this._.placeholder=null;this.setValue.implement(this._setValue);return this.initialize()});h.initPage=function(b){var d=[],c,a,e;if(document.querySelectorAll){c=document.querySelectorAll("input[placeholder]");a=0;for(e=c.length;a<e;a++)d.push(c[a]);c=document.querySelectorAll("textarea[placeholder]");a=0;for(e=
c.length;a<e;a++)d.push(c[a])}else{c=document.getElementsByTagName("input");a=0;for(e=c.length;a<e;a++)c[a].placeholder&&d.push(c[a]);c=document.getElementsByTagName("textarea");a=0;for(e=c.length;a<e;a++)c[a].placeholder&&d.push(c[a])}if(d.length)return new h(n({carrier:d},b,!1))};h.extend({initialize:function(){var b=this.config;if(!b.carrier)throw Error("Placeholder not support with carrier null!");if("[object Array]"==Object.prototype.toString.call(b.carrier)){var d=[],c,a,i;c=0;for(a=b.carrier.length;c<
a;c++)(i=b.carrier[c])&&1===i.nodeType&&d.push(new h(n({carrier:i},b,!1)));return d}this.elems.carrier=e=b.carrier;if(!e.getAttribute("placeholder"))throw Error("Element not has placeholder!");e.getAttribute("id")||e.setAttribute("id","p_"+(new Date).getTime());this._.placeholder=o=e.getAttribute("placeholder");b.control.unifieddisplay&&(this._.support=!1,e.setAttribute("placeholder",""));if(!this._.support){if(this.config.onchange)this.on("change",this.config.onchange);var b=this.elems,d=e,m,j;f=
document.createElement("label");f.htmlFor=e.id;c=g(d,"padding");a=g(d,"margin");i=g(d,"fontSize");m=g(d,"borderTopWidth");j=g(d,"marginTop");a||(a=getComputedStyle(d,null).marginTop+" 0");0!==parseInt(m)&&(j=parseInt("auto"===j?0:j)+parseInt(m)+"px");f.style.cssText="position:absolute; color:"+this.config.style.color+"; cursor:text; padding:"+c+"; margin:"+a+"; margin-top:"+j+"; font-size:"+i+"; font-family:"+this.config.style.fontFamily;b.label=f;""===e.value&&(f.innerHTML=o);e.parentNode.insertBefore(f,
e);var k=this,l=f;e.onfocus=function(){p.call(e,l)};var r=f;e.onblur=function(){q.call(k,r)}}},_setValue:function(b){this._.placeholder=b;this.config.control.unifieddisplay||this.elems.carrier.setAttribute("placeholder",b);!this._.support&&""===this.elems.carrier.value&&(this.elems.label.innerHTML=b);this.fire("change")}});k.Placeholder=h})(window);
