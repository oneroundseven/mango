/**
* upload
* @version 0.6.7
* @namespace FOCUS.widget
* @author lvxiang
*/
void function(c,d,f){c.FOCUS||(c.FOCUS={});FOCUS.namespace=function(){for(var b=[].slice.call(arguments),d,a,e,g=[];b.length;){d=b.shift().split(/\./);for(e=c;d.length;)a=d.shift(),e[a]||(e[a]={}),e=e[a];g.push(e)}return 1<g.length?g:g[0]};FOCUS.BASEPATH=c.FOCUS_BASEPATH||function(b){for(var d=c.location,a=/^(\w+\:\/{2,3}.+?)\//.exec(d.href)[1],e=/(^\/?|.*?\/)FOCUS\/[^?#]+\.js(?:[?#].*)?$/,g=/^\w+\:\/\//,z=/^\//,m=/^.*\//,p,k,f=0,w=b.length;f<w;f++)if(k=b[f].src,g.test(k)||(k=z.test(k)?a+k:m.exec(d.href)[0]+
k),k=e.exec(k)){p=k[1];break}p?(p=p.replace(RegExp(d.protocol+"\\/\\/"+d.host,"i"),""),p=d.protocol+"//"+d.host+p+"FOCUS/"):p=m.exec(d.href)[0];return p}(d.getElementsByTagName("script"))}.call(this,this,this.document);
void function(c,d,f){FOCUS.namespace("FOCUS.util");FOCUS.util.type=function(a){var e,g=/\{\s*\[native\s*code\]\s*\}/i;null===a?e="null":"undefined"===typeof a?e="undefined":(e=Object.prototype.toString.call(a).match(/\w+/g)[1].toLowerCase(),"object"===e&&g.test(a+"")&&(e="function"));return e};FOCUS.util.trim=function(a){return(a+"").replace(/^[\s\u00A0]+|[\s\u00A0]+$/g,"")};FOCUS.util.JSON=function(a){var e={};e.stringify=a?a.stringify:function(){return""};e.parse=function(a){var e;if("string"===
FOCUS.util.type(a))try{e=(new Function("return "+a))()}catch(c){e={}}else e=a;return e};return e}.call(this,c.JSON);FOCUS.util.browser=function(a){var e=/chrome\/(\d+\.\d+)/,g=/safari\/(\d+\.\d+)/,b=/version\/(\d+\.\d+)/,m={},d;if(d=/msie\s*(\d+\.\d+)/.exec(a))return m.msie=!0,m.version=d[1],m;if(d=/firefox\/(\d+\.\d+)/.exec(a))return m.mozilla=m.firefox=!0,m.version=d[1],m;if(d=/webkit\/(\d+\.\d+)/.exec(a)){m.webkit=!0;m.version=d[1];if(c.chrome)return m.chrome=!0,m.version=e.exec(a)[1],m;if(d=g.exec(a))m.safari=
!0,m.version=[1];return m}if((d=/opera/.exec(a))&&c.opera)m.opera=!0,m.version=b.exec(a)[1];return m}.call(this,c.navigator.userAgent.toLowerCase());FOCUS.util.flash=function(a,e){var g={has:!1,version:0};if(e.length&&e["Shockwave Flash"])e["Shockwave Flash"].description&&!("undefined"!==typeof a.mimeTypes&&a.mimeTypes["application/x-shockwave-flash"]&&!a.mimeTypes["application/x-shockwave-flash"].enabledPlugin)&&(g={has:!0,version:/\d+\.\d+/.exec(e["Shockwave Flash"].description)[0]});else if(c.ActiveXObject){var b,
m=/\d+/g;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(d){}b&&(m.exec(""),g={has:!0,version:b.GetVariable("$version").match(m).join(".")})}return g}.call(this,c.navigator,c.navigator.plugins);FOCUS.util.extend=function(){var a=arguments.callee,e,g;"object"!==FOCUS.util.type(arguments[0])?(e=1,g=!!arguments[0]):(e=0,g=!1);var b=arguments[e]||{};e=[].slice.call(arguments,e+1);for(var m,p;e.length;)if(m=e.shift(),"object"===FOCUS.util.type(m)){var k,h;for(h in m)if(k=m[h],"object"===
FOCUS.util.type(k))if(k==c||k==d||"childNodes"in k&&"nextSibling"in k&&"nodeType"in k){if(g||!(h in b))b[b]=k}else{p=FOCUS.util.type(b[h]);if(!(h in b)||"undefined"===p||"null"===p)b[h]={};"object"===FOCUS.util.type(b[h])&&a(g,b[h],k)}else if(g||!(h in b))b[h]=k}return b};FOCUS.util.console=function(a){var e=!1,g=function(){},b={ON:!0,OFF:!1},g={SWITCH:b,turn:function(a){e=b[a?"ON":"OFF"]},log:g,info:g,warn:g,error:g,debug:g};if(!a)return g;a.debug||(a.debug=a.log);a.error||(a.error=a.warn);return FOCUS.util.extend(!0,
g,{log:function(g){e===b.ON&&a.log(g)},info:function(g){e===b.ON&&a.info(g)},warn:function(g){e===b.ON&&a.warn(g)},error:function(g){e===b.ON&&a.error(g)},debug:function(g){e===b.ON&&a.debug(g)}})}.call(c,c.console);FOCUS.util.indexOf=function(a,e){if(a.indexOf)return a.indexOf(e);for(var g=-1,b=0,c=a.length;b<c;b++)if(a[b]===e){g=b;break}return g};FOCUS.util.unique=function(a){for(var e=[],g=0,b=a.length;g<b;g++)-1===FOCUS.util.indexOf(e,a[g])&&e.push(a[g]);return e};FOCUS.util.random=function(){var a=
{};return function(e,g,b){e=e||0;g="number"===FOCUS.util.type(g)&&!isNaN(g)?g===e?g+10:g:e+10;var c=e+"_"+g;a[c]||(a[c]=[]);a[c].length===g-e&&(a[c]=[],"function"===FOCUS.util.type(b)&&b.call(this));for(var d;;)if(d=e+~~(Math.random()*(g-e)),-1===FOCUS.util.indexOf(a[c],d)){a[c].push(d);break}return d}}.call(this);FOCUS.util.createElement=function(){return function(a){var e={};FOCUS.util.extend(!0,e,a);var g;a=FOCUS.util.extend(!0,{},e);var b=["<",a.el],c=a.el;delete a.el;for(g in a)b.push(" ",g,
'="',a[g],'"');b.push(-1===",meta,base,link,img,input,br,hr,area,sharp,".indexOf(","+c+",")?"></"+c+">":" />");g=b.join("");var p;a=!1;try{p=d.createElement(g)}catch(h){a=!0,p=d.createElement(e.el),delete e.el}if(a)for(var f in e)p[f]=e[f];"input"===p.tagName.toLowerCase()&&(p.type=e.type?e.type:"text");return p}}.call(this);FOCUS.util.event=function(){var a=function(a){return a?function(a,e,g){a.addEventListener(e,g,!1)}:function(a,e,g){a.attachEvent("on"+e,g)}}.call(this,!!c.addEventListener);(function(a){return a?
function(a,e,g){a.removeEventListener(e,g)}:function(a,e,g){a.detachEvent("on"+e,g)}}).call(this,!!c.removeEventListener);var e="FOCUS_EVENTS_"+(new Date).valueOf(),g=function(a,e){for(var g=0,b=e.length;g<b;g++)e[g].handler.apply(this,[a].concat(e[g].params))};return{bind:function(b,d,p){b[e]||(b[e]={});var h=b[e];h[d]||(h[d]=[],a(b,d,function(a){a=a||c.event;g.call(b,a,h[d])}));h[d].push({handler:p,params:[].slice.call(arguments,3)})},remove:function(a,g,b){if(a[e]&&!(a[e]&&!a[e][g]||a[e]&&!a[e][g].length))if(a=
a[e][g],b){g=-1;for(var c=0,d=a.length;c<d;c++)if(a[c].handler===b){g=c;break}b=g;-1!=b&&a.splice(b,1)}}}}.call(this);FOCUS.util.feature_upload=function(a){var e=function(){var e=FOCUS.util.flash,g=e.has;if(e&&e.has&&a.oscpu&&FOCUS.util.browser.firefox&&4<=FOCUS.util.browser.version&&13>=FOCUS.util.browser.version){var b=/windows\s*nt\s*([\d\.]+)/i.exec(a.oscpu);if(b&&(/^6\.0/.test(b[1])||/^6\.1/.test(b[1]))&&/^11\.3/.test(e.version))g=!1}return g}.call(this),g=function(){if(FOCUS.util.browser.firefox&&
3.6>FOCUS.util.browser.version)return!1;var a={},e=d.createElement("input");e.type="file";e.style.cssText="position:absolute; top:-999px; height:-999px;";d.body.appendChild(e);a.file=!!e.files;a.multiple="multiple"in e&&!(FOCUS.util.browser.apple&&6>FOCUS.util.browser.version);d.body.removeChild(e);delete e;if(!c.XMLHttpRequest)return!1;e=new XMLHttpRequest;a.upload=!!e.upload;a.sendAsBinary=!!e.sendAsBinary;a.FormData=!!c.FormData&&!c.FormData.customized;delete e;return a}.call(this),b=function(){var a=
{};a.sameDomain=d.domain===(c.location.host||c.location.hostname);return a}.call(this);return{html5:g,flash:e,iframe:b}}.call(this,c.navigator);FOCUS.util.sizeConvert=function(){var a={KB:1024,MB:1048576,GB:1073741824},e=function(a,e){this.size=a;this.unit=e};e.prototype={toString:function(){return this.size+" "+this.unit},valueOf:function(){return this.size}};var g=/^((?:\d+)(?:\.\d+)?)\s*([A-Za-z]*)$/g,b=/([A-Za-z]+)$/;return{unit2Bytes:function(e){var c=0;b.test(e)?(g.exec(""),(e=g.exec(e))&&(c=
(parseFloat(e[1])||0)*(e[2]?a[e[2].toUpperCase()]:1024))):c=parseInt(e)||0;return c||0},bytes2Unit:function(g,b){var c=0,d=["GB","MB","KB"];b=b||"";if(!b)for(var h=0;h<d.length;h++)if(g>a[d[h]]){b=d[h];break}b&&(c=g/a[b]);return c=new e(c||0,b)}}}.call(this);!c.FormData&&FOCUS.util.feature_upload.html5.sendAsBinary&&(c.FormData=function(a){this.charset=a||"UTF-8";this.reset()},c.FormData.prototype={append:function(a,e){var g="",b=this.EOL,c="--"+this.boundary,d=FOCUS.util.type(e);"object"===d&&(e=
JSON.stringify(e),d="string");g=g+(c+b)+"Content-Disposition: form-data; ";"file"===d?(g+='name="'+this.encode(a)+'"; ',g+='filename="'+this.encode(e.filename||e.name)+'"'+b,g+="Content-Type: "+(e.type?e.type:"application/octet-stream")+b+b,g+=e.getAsBinary()+b):(g+='name="'+this.encode(a)+'"'+b+b,g+=this.encode(e)+b);this.data+=g},getData:function(){return this.data+"--"+this.boundary+"--"+this.EOL},valueOf:function(){return this.getData()},toString:function(){return this.getData()},reset:function(){this.data=
"";this.boundary="---------------------------71"+(new Date).valueOf().toString(16).replace(/^0x/,"");this.EOL="\r\n"},encode:function(a){return FOCUS.util.transformCharset?FOCUS.util.transformCharset(a,this.charset):encodeURI(a)}},c.FormData.customized=!0);var b={"*/*":"*.*","image/*":"*.jpg; *.jpeg; *.jpe; *.png; *.gif","image/png":"*.png","image/jpeg":"*.jpg; *.jpeg; *.jpe","image/jpg":"*.jpg; *.jpeg; *.jpe","image/gif":"*.gif","application/gzip":"*.gz","application/zip":"*.zip","application/vnd.ms-excel":"*.xls",
"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"*.xlsx","application/msword":"*.doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"*.docx","application/vnd.ms-powerpoint":"*.ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"*.pptx","application/mshelp":"*.hlp; *.chm","application/pdf":"*.pdf","application/mp3":"*.mp3","text/html":"*.html; *.htm; *.xhtml","text/javascript":"*.js","text/css":"*.css","text/plain":"*.txt",
"default":"*.*"},h=function(a){var e=["image/*","image/jpg","default"],g={},b;for(b in a)-1===FOCUS.util.indexOf(e,b)&&a[b].replace(/[^\;\u0020]+/g,function(a){g[a]=b});return g}(b);FOCUS.util.convert2MimeTypes=function(a){a=a.split(/[\;\,]\s*/);var e=[],b="";if(a.length){for(var c=/^[^\/]+\/[^\/]+$/,d=0;d<a.length;d++)if(c.test(a[d]))e.push(a[d]);else if(a[d]in h&&"*.*"!==a[d])e.push(h[a[d]]);else{b="*/*";break}b||(b=FOCUS.util.unique(e).join(", "))}else b="*/*";return b};FOCUS.util.convertMimeTypes=
function(a){a=a.split(/[\;\,]\s*/);var e=[],g="";if(a.length){for(var c=/^[^\\\/]+\.[^\\\/]+$/,d=0;d<a.length;d++)if(c.test(a[d]))e.push(a[d]);else if(a[d]in b&&"*/*"!==a[d])e.push(b[a[d]]);else{g="*.*";break}g||(g=FOCUS.util.unique(e).join("; "))}else g="*.*";return g};FOCUS.util.mimeValidation=function(a,e){if(-1!==(a+"").indexOf("*/*"))return!0;e+="";"string"===FOCUS.util.type(a)&&(a=a.split(/[\;\,\s]+/));var b=!1,c=/^([^\/]+)\/([^\/]+)$/,d=c.exec(e),h;if(!d)return!1;for(var f=0;f<a.length;f++)if(h=
c.exec(a[f]),a[f]===e||h[1]===d[1]&&("*"===h[2]||h[2]===d[2])){b=!0;break}return b};FOCUS.util.addClass=function(a,e){var b=FOCUS.util.trim(a.className).split(/\s+/);b.push(e);a.className=FOCUS.util.unique(b).join(" ")};FOCUS.util.removeClass=function(a,e){var b=FOCUS.util.unique(FOCUS.util.trim(a.className).split(/\s+/)),c=FOCUS.util.indexOf(b,e);-1!==c&&b.splice(c,1);a.className=b.join(" ")}}.call(this,this,this.document);
void function(c,d,f){FOCUS.namespace("FOCUS.widget");var b=function(){},h=function(){var a=FOCUS.util.feature_upload;return{flash:a.flash,html5:a.html5&&a.html5.upload&&(a.html5.sendAsBinary||a.html5.FormData),iframe:!0}}.call(this);FOCUS.widget.Upload=function(a){this.cfg={priority:FOCUS.widget.Upload.PRIORITY.DEFAULT,events:{ready:b,loadFailed:b,dialogStart:b,dialogComplete:b,queued:b,queueError:b,uploadStart:b,uploadProgress:b,uploadSuccess:b,uploadError:b,uploadComplete:b},button:{text:"Upload"},
multiple:!0,sizeLimit:-1,uploadLimit:-1,queueLimit:-1,fileTypes:FOCUS.widget.Upload.MIME_TYPE.ALL,uploadURL:"",filePostName:"",placeholder:"",debug:!1,plugins:"UploadEvents,AutoDisabled,Ready"};this.set(a);FOCUS.widget.Upload.plugins.UploadEvents&&(this.uploadEvents=new FOCUS.widget.Upload.plugins.UploadEvents(this.cfg.events),this.set({events:this.uploadEvents.events}));this._={};this.init();return this.instance};FOCUS.widget.Upload.prototype={init:function(){for(var e=this,b=this.cfg.priority,c,
d=0;d<b.length;d++)if(h[b[d]]){c=b[d];break}b={html5:"Upload_HTML5",flash:"Upload_Flash",iframe:"Upload_Iframe"};if(c){if(c===FOCUS.widget.Upload.MODE.FLASH){a();for(var f in this.cfg.events)this.cfg.events[f]=function(a,e){var b=FOCUS.widget.Upload.File;return function(e){e&&e.id?a.apply(this,[new b(e)].concat([].slice.call(arguments,1))):a.apply(this,[].slice.call(arguments,0))}}.call(this,this.cfg.events[f],f);this.cfg.fileTypes=FOCUS.util.convertMimeTypes(this.cfg.fileTypes);this.cfg.placeholder=
this.cfg.placeholder.replace(/^#/,"");this.cfg.events.ready=function(a){return function(){setTimeout(function(){a.call(e.instance,c)},25)}}(this.cfg.events.ready)}else this.cfg.fileTypes=FOCUS.util.convert2MimeTypes(this.cfg.fileTypes);this.instance=new FOCUS.widget[b[c]](this.cfg);c!==FOCUS.widget.Upload.MODE.FLASH&&setTimeout(function(){e.cfg.events.ready.call(e.instance,c)},25);f=FOCUS.widget.Upload.plugins;f.UploadEvents&&(this.uploadEvents.bindThisObj(this.instance),"on,one,off,fire".replace(/(\w+)/g,
function(a){e.instance[a]=function(){e.uploadEvents[a].apply(e.uploadEvents,arguments);return e.instance}}));for(var k in f)k.replace(/([\$\^\[\]\\/\,\?\:\|\{\}\!\(\)\*\-\+])/g,"\\$1"),"UploadEvents"!==k&&RegExp("(^|,)"+k+"(,|$)").exec(this.cfg.plugins)&&f[k].call(this.instance,this.instance.mode)}else throw"not support this constructor.";},set:function(a){var b=this.cfg.plugins;a.plugins&&"string"===FOCUS.util.type(a.plugins)&&(b+=","+a.plugins,b=FOCUS.util.unique(b.split(/[,;\s]+/)).join(","));
FOCUS.util.extend(!0,this.cfg,a);this.cfg.plugins=b}};var a=function(a){return function(){a.File=function(b){this.data=b;this.id=b.id;this.size=b.size;this.status=b.filestatus;this.suffix=b.type.replace(/^\./,"");this.type=a.MIME_TYPE[this.suffix.toUpperCase()];this.fullname=b.name;b=this.fullname.split(/\./);1<b.length&&b.pop();this.name=b.join(".")}}}.call(this,FOCUS.widget.Upload)}.call(this,this,this.document);
void function(c,d,f){FOCUS.namespace("FOCUS.widget.Upload");var b=FOCUS.widget.Upload;b.MODE={HTML5:"html5",FLASH:"flash",IFRAME:"iframe",DEFAULT:"html5"};b.PRIORITY={DEFAULT:[b.MODE.HTML5,b.MODE.FLASH,b.MODE.IFRAME]};b.MIME_TYPE={ALL:"*/*",IMAGE:"image/*",JPG:"image/jpeg",JPEG:"image/jpeg",PNG:"image/png",GIF:"image/gif",PDF:"application/pdf",DOC:"application/msword",DOCX:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",XLS:"application/vnd.ms-excel",XLSX:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
PPT:"application/vnd.ms-powerpoint",PPTX:"application/vnd.openxmlformats-officedocument.presentationml.presentation",TXT:"text/plain",UNKNOWN:"application/octet-stream"};b.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130,CHAIN_ERROR:-140};b.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,
UPLOAD_STOPPED:-290,RESIZE:-300,TIMEOUT:-310};b.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5,NEW:-6};b.UPLOAD_TYPE={SINGLE:1,MULTI:2};b.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120,JAVASCRIPT:-130,NONE:-130};b.CURSOR={POINTER:-2,DEFAULT:-1};b.CSS={WRAP:"FOCUS_UPLOAD_wrap",SELECTOR:"FOCUS_UPLOAD_selector",FLASH:"FOCUS_UPLOAD_flashWrap",TEXT:"FOCUS_UPLOAD_text",DISABLED:"FOCUS_UPLOAD_wrap_disabled",HOVER:"FOCUS_UPLOAD_wrap_hover"};b.CHARSET={UTF8:"UTF-8",
GBK:"GBK",GB2312:"GB2312",BIG5:"BIG5",DEFAULT:"UTF-8"};b.TURNING={ON:!0,OFF:!1};var h=function(a,b){b=b||{};var c=a.split(/\./);b.suffix=1<c.length?c.pop():"";b.name=c.join(".");return b};b.File=function(a){var e={data:a};e.id="FOCUS_UPLOAD_"+(FOCUS.util.random(0,1E6)+~~((new Date).valueOf()/1E7)).toString(16).toUpperCase();if(a.tagName&&"input"===a.tagName.toLowerCase()&&"file"===a.type){if(a=/[^\/\\]+$/.exec(a.value))e.fullname=a[0],h(e.fullname,e)}else e.size=a.filesize||a.size||0,e.type=a.type||
"",e.fullname=a.filename||a.name||"",h(e.fullname,e);e.type=e.suffix?e.suffix.toUpperCase()in b.MIME_TYPE?b.MIME_TYPE[e.suffix.toUpperCase()]:"":"";e.status=b.FILE_STATUS.NEW;return e}}.call(this,this,this.document);
void function(c,d){FOCUS.namespace("FOCUS.widget");var f=function(){};FOCUS.widget.UploadBase=function(){};FOCUS.widget.UploadBase.prototype={init:f,set:function(b){this.cfg=FOCUS.util.extend(!0,this.cfg,b)},debug:function(b){FOCUS.util.log.turn(!!b)},startUpload:f,getFile:f,cancelUpload:function(b){var c=this.getQueueFile();if(c){c.status=FOCUS.widget.Upload.FILE_STATUS.CANCELLED;if("function"===FOCUS.util.type(b))this.one("uploadError",b);this.cfg.events.uploadError.call(this,c,FOCUS.widget.Upload.UPLOAD_ERROR.FILE_CANCELLED,
"file cancelled.");this.elems.poster&&this.elems.poster.abort()}},stopUpload:function(b){var c=this.getQueueFile();if(c){c.status=FOCUS.widget.Upload.FILE_STATUS.QUEUED;if("function"===FOCUS.util.type(b))this.one("uploadError",b);this.cfg.events.uploadError.call(this,c,FOCUS.widget.Upload.UPLOAD_ERROR.UPLOAD_STOPPED,"upload stopped.");this.elems.poster&&this.elems.poster.abort();this._.queue.unshift(c)}},getQueueFile:function(b){b=b||0;var c=FOCUS.util.type(b),a=this._.queue,e=null;if("number"===
c)b<=a.length-1&&(e=a[b]);else if("string"===c)for(c=0;c<a.length;c++)if(a[c].id===b){e=a[c];break}return e},setPostParam:function(b){this.cfg.postParams||(this.cfg.postParams={});FOCUS.util.extend(!0,this.cfg.postParams,b)},addPostParam:function(b,c){this.cfg.postParams||(this.cfg.postParams={});this.cfg.postParams[b]=c},removePostParam:function(b){!this.cfg.postParams||!b?this.cfg.postParams={}:b in this.cfg.postParams&&delete this.cfg.postParams[b]},setUploadURL:function(b){this.cfg.uploadURL=
b+""},setFilePostName:function(b){this.cfg.filePostName=b+""},setFileTypes:function(b){switch(this.mode){case FOCUS.widget.Upload.MODE.IFRAME:case FOCUS.widget.Upload.MODE.HTML5:b=FOCUS.util.convert2MimeTypes(b);this.elems.selector.accept=b;break;case FOCUS.widget.Upload.MODE.FLASH:b=FOCUS.util.convertMimeTypes(b)}this.cfg.fileTypes=b},setFileSizeLimit:function(b){this.cfg.sizeLimit=b},setFileQueueLimit:function(b){this.cfg.queueLimit=b},__setStyle:function(b,c,a,e){var g=FOCUS.util,f=FOCUS.widget.Upload.CSS;
c.className=f.WRAP;g.browser.firefox&&(a.size=6);a.className=f.SELECTOR;b=c.getElementsByTagName("label");b.length&&c.removeChild(b[0]);b=d.createElement("label");b.className=f.TEXT;b.innerHTML=e;c.insertBefore(b,a);g.event.bind(c,"mouseover",function(a){a.cancelBubble=!0;a.returnValue=!1;g.addClass(c,f.HOVER)});FOCUS.util.event.bind(c,"mouseout",function(a){a.cancelBubble=!0;a.returnValue=!1;g.removeClass(c,f.HOVER)})},__translateStatus:function(b){var c=FOCUS.util.type(b);"string"===c?(b=FOCUS.util.trim(b),
b=b.length?!!FOCUS.widget.Upload.TURNING[b.toUpperCase()]:FOCUS.widget.Upload.TURNING.OFF):b="undefined"===c?!this._.status:!!b;return b},turn:function(b){b=this.__translateStatus(b);var c=FOCUS.util,a=FOCUS.widget.Upload.CSS;b!==this._.status&&(this.elems.selector.disabled=!b,this._.status=b,c[b?"removeClass":"addClass"](this.elems.holder,a.DISABLED))},multiple:function(b){this.elems.selector.multiple=!!b},queue:function(){},dequeue:function(b){if(this.mode===FOCUS.widget.Upload.MODE.IFRAME||this.mode===
FOCUS.widget.Upload.MODE.HTML5)switch(FOCUS.util.type(b)){case "string":for(var c=0;c<this._.queue.length;c++)if(this._.queue[c].id===b){b=c;break}case "number":this._.queue.splice(b,1);break;case "boolean":b?this._.queue.splice(0):this._.queue.splice(0,1)}else if(this.mode===FOCUS.widget.Upload.MODE.FLASH)switch(FOCUS.util.type(b)){case "string":case "number":this.instance.cancelUpload(b,!1);break;case "undefined":b=!1;case "boolean":if(b)for(;b=this.instance.getQueueFile();)this.instance.cancelUpload(b.file_id,
!1);else this.instance.cancelUpload(0,!1)}}}}.call(this,this,this.document);
void function(c,d){var f=FOCUS.namespace("FOCUS.widget.Upload.plugins"),b=function(a,b){this.type=a;this.listeners=[];this._={thisObj:b}};b.prototype={__search:function(a,b){for(var c=-1,d=b||0;d<this.listeners.length;d++)if(this.listeners[d].handle===a){c=d;break}return c},add:function(a,b){var c=a.handles,d=a.thisObj||null,f=a.once||!1;b=[].slice.call(arguments,1);"function"===FOCUS.util.type(c)&&(c=[c]);if("array"===FOCUS.util.type(c))for(var h=0;h<c.length;h++)"function"===FOCUS.util.type(c[h])&&
this.listeners.push({handle:c[h],thisObj:d,once:!!f,args:b})},one:function(a,b){"object"===FOCUS.util.type(a)&&(a.once=!0,this.add(a,[].slice.call(arguments,1)))},remove:function(a){if(a){"function"===FOCUS.util.type(a)&&(a=[a]);for(var b,c=0;c<a.length;c++)"function"===FOCUS.util.type(a[c])&&-1!==(b=this.__search(a[c]))&&this.listeners.splice(b,1)}else this.listeners=[]},exec:function(a){for(var b,c=[],d=0;d<this.listeners.length;d++)b=this.listeners[d],b.once&&c.push(b.handle),b.handle.apply(b.thisObj||
this._.thisObj||this,[].concat.call(b.args,[].slice.call(arguments)));this.remove(c)},bindThisObj:function(a){this._.thisObj=a}};var h=function(a,b){this._={events:{},thisObj:b};this.events={};for(var c in a)this.on(c,a[c]),this.events[c]=function(a){var b=this;return"uploadError"===a?function(c,e,g){switch(e){case FOCUS.widget.Upload.UPLOAD_ERROR.FILE_CANCELLED:b.fire.apply(b,["cancel",c,FOCUS.widget.Upload.UPLOAD_ERROR.FILE_CANCELLED,"file cancelled."]);break;case FOCUS.widget.Upload.UPLOAD_ERROR.UPLOAD_STOPPED:b.fire.apply(b,
["stop",c,FOCUS.widget.Upload.UPLOAD_ERROR.UPLOAD_STOPPED,"upload stopped."]);break;default:b.fire.apply(b,[a].concat([].slice.call(arguments)))}}:function(){b.fire.apply(b,[a].concat([].slice.call(arguments)))}}.call(this,c)};h.prototype={__initEvent:function(a,c,g){a in this._.events||(this._.events[a]=new b(a,this._.thisObj));return{handles:c,thisObj:g}},on:function(a,b,c,d){var f=this.__initEvent(a,b,c);this._.events[a].add.apply(this._.events[a],[f].concat([].slice.call(arguments,3)))},off:function(a,
b){a in this._.events&&this._.events[a].remove(b)},one:function(a,b,c,d){var f=this.__initEvent(a,b,c);this._.events[a].one.apply(this._.events[a],[f].concat([].slice.call(arguments,3)))},fire:function(a,b){a in this._.events&&this._.events[a].exec.apply(this._.events[a],[].slice.call(arguments,1))},bindThisObj:function(a){this._.thisObj=a;for(var b in this._.events)this._.events[b].bindThisObj(a)}};f.UploadEvents=h}.call(this,window,window.document);
void function(c){FOCUS.namespace("FOCUS.widget.Upload.plugins").AutoDisabled=function(c){this.on("uploadStart",function(){this.turn("off")}).on("uploadComplete",function(){this.turn("on")})}}.call(this);void function(){var c=FOCUS.util;FOCUS.widget.Upload.plugins.Ready=function(d){var f=!1,b=this,h=[],a=function(){for(;h.length;)h.shift().call(b,d)};this.on("ready",function(){this.isReady=f=!0;a()});this.ready=function(b){"function"===c.type(b)&&h.push(b);f&&a()}}}.call(this);
void function(c,d,f){c=FOCUS.namespace("FOCUS.widget.io.iframe");var b=FOCUS.util.createElement;d=function(){this.elems={}};d.prototype={_:{text:function(c,a){return b({el:"textarea",name:c,value:a+""})},radio:function(c,a,e){return b({el:"input",type:"radio",name:c,value:a,checked:!!e})},checkbox:function(c,a,e){return b({el:"input",type:"checkbox",name:c,value:a,checked:!!e})},file:function(c,a){if(c)return a&&a.name&&(c.name=a.name),c;var e={el:"input",type:"file"};FOCUS.util.extend(!0,e,a);return b(e)},
clone:function(b){return b.cloneNode(!0)}},append:function(b,a){var c=FOCUS.util.type(a),g;"string"!==c&&"file"===a.type?g=this._.file(a,{name:b}):"string"===c&&(g=this._.text(b,a+""));this.elems[b]=g}};c.IO_FormData=d}.call(this,window,document);
void function(c,d,f){f=FOCUS.namespace("FOCUS.widget.io.iframe");var b=function(){},h=FOCUS.util.createElement,a=function(a){this.cfg={events:{load:b,error:b},timeout:1E5,charset:"UTF-8"};FOCUS.util.extend(!0,this.cfg,a);this.elems={};this._={};this.init()};a.prototype={init:function(){var a=this;this.elems.io=h({el:"iframe",name:"FOCUS_UPLOAD_IO_"+FOCUS.util.random(0,1E3),src:FOCUS.util.browser.msie?"javascript:document.open();"+(d.domain===c.location.hostname?"":"document.domain='"+d.domain+"';")+
"void(0)":"about:blank"});this.elems.io.style.cssText="position:absolute; width:1px; height:1px; top: -9999px; left:-9999px;";d.body.appendChild(a.elems.io);setTimeout(function(){a.elems.win=a.elems.io.contentWindow;a.elems.doc=a.elems.io.contentWindow.document},25);this._.timer=-1;this._.handle={load:function(){if(a._.submited){clearTimeout(a._.timer);var b=a._.handle.getData(a.elems.io);"undefined"===FOCUS.util.type(b)?a.cfg.events.error.call(this,"IO_ERROR"):a.cfg.events.load.call(this,b);a._.submited=
!1;setTimeout(function(){a._deleteForm()},25)}},error:function(){a.cfg.events.error.call(this);a._.submited=!1},getData:function(a){var b;try{b=a.contentWindow.document.body.innerHTML.replace(/(^|)\<\/?pre[^\>]*\>(|$)/gi,"")}catch(c){}return b}};this.elems.io.attachEvent?this.elems.io.attachEvent("onload",this._.handle.load):this.elems.io.onload=this._.handle.load},open:function(a,b){this._.openCfg={method:"GET"===a.toUpperCase()?"GET":"POST",action:b}},send:function(a,b){var c=this;setTimeout(function(){var f=
{el:"form",name:"FOCUS_UPLOAD_FORM_"+FOCUS.util.random(0,1E3),method:c._.openCfg.method,action:c._.openCfg.action||""};f.target=c.elems.io.name;var p=[],k=!1,s,w;for(w in a.elems)s=a.elems[w],"file"===s.type&&(k=!0),p.push(s);f.enctype=k?"multipart/form-data":"application/x-www-form-urlencoded";c._deleteForm();var x=c.elems.__submit_form=h(f);x.style.cssText="position:absolute; width:1px; height:1px; top: -9999px; left:-9999px;";for(d.body.appendChild(x);p.length;)x.appendChild(p.shift());b=b||c.cfg.charset||
"UTF-8";var F;FOCUS.util.browser.msie&&(F=d.charset);FOCUS.util.browser.msie?d.charset=b:x.acceptCharset=b;setTimeout(function(){c._.submited=!0;x.submit();setTimeout(function(){FOCUS.util.browser.msie&&(d.charset=F)},1)},25)},100)},onload:function(a){this.cfg.events.load=a},onerror:function(a){this.cfg.events.error=a},overrideGetData:function(a){this._.handle.getData=a},setUrl:function(a){this.elems.__submit_form.action=a},_deleteForm:function(){try{this.elems.__submit_form&&this.elems.__submit_form.parentNode.removeChild(this.elems.__submit_form)}catch(a){}delete this.elems.__submit_form},
_deleteIO:function(){try{this.elems.io&&(this.__removeOnloadEvent(),this.elems.io.parentNode.removeChild(this.elems.io))}catch(a){}delete this.elems.doc;delete this.elems.win;delete this.elems.io},dispose:function(){this._deleteForm();this._deleteIO()},__removeOnloadEvent:function(){this.elems.io&&(this.elems.io.detachEvent?this.elems.io.detachEvent("onload",this._.handle.load):this.elems.io.onload=b)}};f.IO_Iframe=a}.call(this,window,document);
void function(c,d,f){c=FOCUS.namespace("FOCUS.widget.io.iframe");var b=c.IO_FormData,h=c.IO_Iframe,a=function(){};d=function(b){this.cfg={events:{error:a,load:a,progress:a,abort:a},progressURL:"",charset:"UTF-8",timeout:1E5};this._={cancel:!1,timeout:!1,loaded:!1,timeoutTimer:-1};this.elems={};this.set(b);this.init()};d.prototype={init:function(){var a=this;this._.getProgress=function(){var c=arguments.callee;if(a.cfg.progressURL&&!a._.loaded){a.elems.io_progress=new h;a.elems.io_progress.onload(function(b){setTimeout(function(){a.elems.io_progress.dispose()},
25);a._.loaded||(b=FOCUS.util.JSON.parse(b),a.cfg.events.progress.call(b),setTimeout(function(){c()},100))});a.elems.io_progress.open("GET",a.cfg.progressURL,!0);var d=new b;d.append("progress","loaded");a.elems.io_progress.send(d)}}},send:function(a){var b=this;this._.timeoutTimer=setTimeout(function(){b.timeout()},this.cfg.timeout);this.elems.io.send(a,this.cfg.charset);setTimeout(function(){b._.cancel||b.cfg.events.progress.call(b,{loaded:0,total:100})},1);this._.getProgress()},open:function(a,
b){this._.fullProgress=!1;this.reset();this.elems.io.open(a,b)},set:function(a){FOCUS.util.extend(!0,this.cfg,a)},reset:function(){var a=this;this.elems.io&&this.elems.io.dispose();this.elems.io_progress&&this.elems.io_progress.dispose();this.elems.io=new h({timeout:this.cfg.timeout});this.elems.io.onload(function(b){a._.timeout||(a._.fullProgress||(a.cfg.events.progress.call(a,{loaded:100,total:100}),a._.fullProgress=!0),clearTimeout(a._.timeoutTimer),a._.cancel||(a._.loaded=!0,a.cfg.events.load.call(a,
b,this)))});this.elems.io.onerror(function(b){clearTimeout(a._.timeoutTimer);a._.cancel||a.cfg.events.error.call(a,this,b)});this._.cancel=!1;this._.timeout=!1;this._.loaded=!1;this._.timeoutTimer=-1},dispose:function(){this.elems.io&&(this.elems.io.dispose(),delete this.elems.io);this.elems.io_progress&&(this.elems.io_progress.dispose(),delete this.elems.io_progress)},timeout:function(){this._.timeout=!0;this.elems.io.__removeOnloadEvent();this.cfg.events.error.call(this,this,"timeout")},abort:function(){this._.cancel=
!0;clearTimeout(this._.timeoutTimer);this.elems.io&&this.elems.io.__removeOnloadEvent();this.cfg.events.abort()}};c.Poster=d}.call(this,window,document);
void function(c,d,f){var b=FOCUS.util.createElement,h=FOCUS.widget.io.iframe.Poster,a=FOCUS.widget.io.iframe.IO_FormData,e=function(){};FOCUS.widget.Upload_Iframe=function(a){this.constructor=arguments.callee;this.mode=FOCUS.widget.Upload.MODE.IFRAME;this.elems={};this.cfg={events:{ready:e,loadFailed:e,dialogStart:e,dialogComplete:e,queued:e,queueError:e,uploadStart:e,uploadProgress:e,uploadSuccess:e,uploadError:e,uploadComplete:e},button:{text:"Upload"},multiple:!0,sizeLimit:-1,queueLimit:-1,fileTypes:FOCUS.widget.Upload.MIME_TYPE.ALL,
fileTypesDescription:"All Files",uploadURL:"",filePostName:"",placeholder:"",charset:FOCUS.widget.Upload.CHARSET.DEFAULT,debug:!1,timeout:1E5};this._={queue:[],uploadingFile:null,uploadedFile:[],status:FOCUS.widget.Upload.TURNING.ON};this.set(a);this.init()};FOCUS.widget.Upload_Iframe.prototype=new FOCUS.widget.UploadBase;FOCUS.util.extend(!0,FOCUS.widget.Upload_Iframe.prototype,{init:function(){var e=this;this.elems.holder=b({el:"div"});this.elems.holder.style.cssText="";var f={missing_url:[FOCUS.widget.Upload.UPLOAD_ERROR.MISSING_UPLOAD_URL,
"missing upload URL."],invalid_filetype:[FOCUS.widget.Upload.QUEUE_ERROR.INVALID_FILETYPE,"File is not an allowed file type."],size_limit:[FOCUS.widget.Upload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT,"File size exceeds allowed limit."],chain_error:[FOCUS.widget.Upload.QUEUE_ERROR.CHAIN_ERROR,"Some reason to occured chain error."]};FOCUS.util.extend(this._,{post:function(b){var c=new a;if("object"===FOCUS.util.type(e.cfg.postParams))for(var d in e.cfg.postParams)c.append(d,e.cfg.postParams[d]);c.append(e.cfg.filePostName||
b.id,b.data);e.elems.poster.open("POST",e.cfg.uploadURL,!0);e.elems.poster.send(c)},start:function(a){if(a=e.getQueueFile())!e.cfg.uploadURL||"string"!==FOCUS.util.type(e.cfg.uploadURL)?(e.cfg.events.uploadError.apply(e,[a].concat(f.missing_url)),e.stopUpload()):(a.status=FOCUS.widget.Upload.FILE_STATUS.IN_PROGRESS,e._.uploadingFile=a,e.cfg.events.uploadStart.call(e,a),e._.post(a))},dialogStart:function(a){a=a||c.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;e.cfg.events.dialogStart.call(e)},
__queued:function(a,b){var c=[],d=[],h=e._.queue,m=new FOCUS.widget.Upload.File(this);if(this.files&&(!FOCUS.util.browser.firefox||FOCUS.util.browser.firefox&&3.6<=FOCUS.util.browser.version)){var u=[],D=!1,q;if(-1!==e.cfg.queueLimit&&this.files.length+e._.queue.length>e.cfg.queueLimit){for(var r=0,v=this.files.length;r<v;r++)q=new FOCUS.widget.Upload.File(this.files[r]),c.push(q),e.cfg.events.queueError.call(e,q,FOCUS.widget.Upload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED,e.cfg.queueLimit);D=!0}else for(var H=
FOCUS.util.sizeConvert.unit2Bytes(e.cfg.sizeLimit),r=0,v=this.files.length;r<v;r++){q=new FOCUS.widget.Upload.File(this.files[r]);c.push(q);var t;if(FOCUS.util.mimeValidation(e.cfg.fileTypes,q.type)){if(-1!==e.cfg.sizeLimit&&(q.fileSize||q.size)>H)t=f.size_limit}else t=f.invalid_filetype;t?(e.cfg.events.queueError.apply(e,[q].concat(t)),D=!0):u.push(q)}if(D){r=0;for(v=u.length;r<v;r++)u[r].id=m.id,e.cfg.events.queueError.apply(e,[u[r]].concat(f.chain_error))}else{r=0;for(v=u.length;r<v;r++)u[r].status=
FOCUS.widget.Upload.FILE_STATUS.QUEUED,u[r].id=m.id,e.cfg.events.queued.call(e,u[r]);d=d.concat(u);h.push(m)}delete u}else c.push(m),FOCUS.util.mimeValidation(e.cfg.fileTypes,m.type)?(d.push(m),h.push(m),m.status=FOCUS.widget.Upload.FILE_STATUS.QUEUED,e.cfg.events.queued.call(e,m)):e.cfg.events.queueError.apply(e,[m].concat(f.invalid_filetype));a&&(e.elems.selector.parentNode.removeChild(e.elems.selector),e.elems.selector=e._._crateSelector(e.elems.holder,e._.dialogStart,e._.dialogComplete));"function"===
FOCUS.util.type(b)&&b.call(e,c.length,d.length,h.length);delete c;delete d;delete h},dialogComplete:function(a){a=a||c.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;e._.__queued.call(this,!0,e.cfg.events.dialogComplete)},uploadProgress:function(a){var b=e.getQueueFile();b.status=FOCUS.widget.Upload.FILE_STATUS.IN_PROGRESS;a.loaded===a.total&&(b.fullProgress=!0);e.cfg.events.uploadProgress.call(e,b,a.loaded,a.total)},uploadSuccess:function(a,b){var c=e.elems.poster,d=e.getQueueFile();
e.cfg.events.uploadSuccess.call(e,d,a,c)},uploadError:function(a,b){b=(b||"").toUpperCase();var c=e.getQueueFile();c.status=FOCUS.widget.Upload.FILE_STATUS.ERROR;e.cfg.events.uploadError.call(e,c,FOCUS.widget.Upload.UPLOAD_ERROR[b?b:"UPLOAD_FAILED"],b?b:"TIMEOUT");e._.uploadComplete(!0)},uploadComplete:function(a,b){var c=e.getQueueFile();!a&&(!c.fullProgress&&!b)&&(e._.uploadProgress.call(e,{loaded:c.size,total:c.size}),c.fullProgress=!0);b||(c.status=FOCUS.widget.Upload.FILE_STATUS.COMPLETE);e._.queue.shift();
e._.uploadingFile=null;e.cfg.events.uploadComplete.call(e,c)},complete:function(a,b){e._.uploadSuccess.call(e,a,b);e._.uploadComplete.call(e);setTimeout(function(){e.elems.poster&&(e.elems.poster.dispose(),delete e.elems.poster)},25)},abort:function(){e._.uploadComplete(!1,!0)},_crateSelector:function(a,c,d){var f=b({el:"input",type:"file",name:"FOCUS_FILE_"+FOCUS.util.random(0,100),multiple:!!e.cfg.multiple});a.appendChild(f);FOCUS.util.event.bind(f,"click",c);FOCUS.util.event.bind(f,"change",d);
e.__setStyle("iframe",e.elems.holder,f,e.cfg.button.text);return f}});var h=FOCUS.query?FOCUS.query(this.cfg.placeholder):d.getElementById(this.cfg.placeholder.replace(/^#/,""));h&&("length"in h&&(h=h[0]),h&&(h.parentNode.insertBefore(this.elems.holder,h),e.elems.selector=this._._crateSelector(this.elems.holder,this._.dialogStart,this._.dialogComplete),h.parentNode.removeChild(h)))},startUpload:function(){this.elems.poster&&this.elems.poster.dispose();this.elems.poster=new h({events:{abort:this._.abort,
load:this._.complete,error:this._.uploadError,progress:this._.uploadProgress},progressURL:this.cfg.progressURL,charset:this.cfg.charset,timeout:this.cfg.timeout||1E5});this._.start()},queue:function(a,b){if(a){a.length===f&&(a=[a]);for(var c=0;c<a.length;c++)this._.__queued.call(a[c],!1,b)}}})}.call(this,this,this.document);
void function(c,d){var f=function(){};FOCUS.widget.Upload_HTML5=function(b){this.constructor=arguments.callee;this.mode=FOCUS.widget.Upload.MODE.HTML5;this.elems={};this.cfg={events:{ready:f,loadFailed:f,dialogStart:f,dialogComplete:f,queued:f,queueError:f,uploadStart:f,uploadProgress:f,uploadSuccess:f,uploadError:f,uploadComplete:f},button:{text:"Upload"},multiple:!0,sizeLimit:-1,queueLimit:-1,fileTypes:FOCUS.widget.Upload.MIME_TYPE.ALL,fileTypesDescription:"All Files",uploadURL:"",filePostName:"",
placeholder:"",charset:FOCUS.widget.Upload.CHARSET.DEFAULT,debug:!1,timeout:1E5};this._={queue:[],uploadingFile:null,cancel:!1,status:FOCUS.widget.Upload.TURNING.ON};this.set(b);this.init()};FOCUS.widget.Upload_HTML5.prototype=new FOCUS.widget.UploadBase;FOCUS.util.extend(!0,FOCUS.widget.Upload_HTML5.prototype,{init:function(){var b=this;this._.start=function(){var a=b.getQueueFile();a&&(!b.cfg.uploadURL||"string"!==FOCUS.util.type(b.cfg.uploadURL)?(b.cfg.events.uploadError.call(b,a,FOCUS.widget.Upload.UPLOAD_ERROR.MISSING_UPLOAD_URL,
"missing upload url."),b.stopUpload()):(a.status=FOCUS.widget.Upload.FILE_STATUS.IN_PROGRESS,b._.uploadingFile=a,b.cfg.events.uploadStart.call(b,a),b._.post(a)))};this._.success=function(a){a=b.elems.poster;var c=b.getQueueFile();b.cfg.events.uploadSuccess.call(b,c,a.responseText||a.responseXML,a)};this._.error=function(a,c,d){b._.cancel||(a=b.getQueueFile(),a.status=FOCUS.widget.Upload.FILE_STATUS.ERROR,b.cfg.events.uploadError.call(b,a,c||FOCUS.widget.Upload.UPLOAD_ERROR.UPLOAD_FAILED,d||""),b._.uploadComplete())};
this._.abort=function(a){b._.cancel=!0;b._.uploadComplete(!0)};this._.progress=function(a){var c=b.getQueueFile();a.loaded===a.total&&(c.fullProgress=!0);b.cfg.events.uploadProgress.call(b,c,a.loaded,a.total)};this._.post=function(a){b.elems.poster.open("POST",b.cfg.uploadURL,!0);var c;c=FormData.customized?new FormData(b.cfg.charset):new FormData;if("object"===FOCUS.util.type(b.cfg.postParams))for(var d in b.cfg.postParams)c.append(d,b.cfg.postParams[d]);c.append(b.cfg.filePostName||a.id,a.data);
FOCUS.util.feature_upload.html5.FormData?b.elems.poster.send(c):(b.elems.poster.setRequestHeader("Content-Type","multipart/form-data; boundary="+c.boundary),b.elems.poster.sendAsBinary(c))};this._.uploadComplete=function(a){var c=b.getQueueFile();c.fullProgress||(b._.progress.call(b,{loaded:c.size,total:c.size}),c.fullProgress=!0);a||(c.status=FOCUS.widget.Upload.FILE_STATUS.COMPLETE);b._.queue.shift();b._.uploadingFile=null;b.cfg.events.uploadComplete.call(b,c)};this._.xhrComplete=function(a){if(4===
this.readyState){var c=FOCUS.widget.Upload.UPLOAD_ERROR;switch(this.status){case 200:b._.success.call(this,a);b._.uploadComplete();break;case 404:case 500:b._.error.call(this,a,c.HTTP_ERROR,this.status)}}};this._.dialogStart=function(a){a=a||c.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;b.cfg.events.dialogStart.call(b)};this._.__queued=function(a,c){var d=!a,f=[],h=[],p=b._.queue,k;a=a||b.elems.selector.files;f=[].slice.call(a);if(-1!==b.cfg.queueLimit&&f.length+b._.queue.length>
b.cfg.queueLimit)for(var s=0,w=f.length;s<w;s++)b.cfg.events.queueError.call(b,f[s],FOCUS.widget.Upload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED,b.cfg.queueLimit);else{s=0;for(w=f.length;s<w;s++)if(k=new FOCUS.widget.Upload.File(f[s]),k.status=FOCUS.widget.Upload.FILE_STATUS.ERROR,FOCUS.util.mimeValidation(b.cfg.fileTypes,k.type))if(0===(k.fileSize||k.size))b.cfg.events.queueError.call(b,k,FOCUS.widget.Upload.QUEUE_ERROR.ZERO_BYTE_FILE,"File is zero bytes and cannot be uploaded.");else{var x=FOCUS.util.sizeConvert.unit2Bytes(b.cfg.sizeLimit);
-1!==b.cfg.sizeLimit&&(k.fileSize||k.size)>x?b.cfg.events.queueError.call(b,k,FOCUS.widget.Upload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT,"File size exceeds allowed limit."):(k.status=FOCUS.widget.Upload.FILE_STATUS.QUEUED,b.cfg.events.queued.call(b,k),h.push(k),p.push(k))}else b.cfg.events.queueError.call(b,k,FOCUS.widget.Upload.QUEUE_ERROR.INVALID_FILETYPE,"File is not an allowed file type.")}d?(b._._resetSelector(),b.cfg.events.dialogComplete.call(b,f.length,h.length,p.length)):"function"===FOCUS.util.type(c)&&
c.call(b,f.length,h.length,p.length);delete f;delete h;delete p};this._.dialogComplete=function(a,e){a=a||c.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;b._.__queued()};this._._resetSelector=function(){b.elems.resetForm.appendChild(b.elems.selector);setTimeout(function(){b.elems.resetForm.reset();setTimeout(function(){b.elems.holder.appendChild(b.elems.selector)},25)},25)};this.elems.holder=d.createElement("div");this.elems.holder.style.cssText="";this.elems.resetForm=d.createElement("form");
this.elems.selector=d.createElement("input");this.elems.selector.type="file";this.elems.selector.multiple=FOCUS.util.feature_upload.html5.multiple&&this.cfg.multiple;this.elems.holder.accept=this.cfg.fileTypes;var f=d.querySelectorAll(this.cfg.placeholder);f.length&&(f=f[0],f.parentNode.insertBefore(this.elems.holder,f),this.elems.holder.appendChild(this.elems.selector),f.parentNode.removeChild(f),FOCUS.util.event.bind(this.elems.selector,"click",this._.dialogStart),FOCUS.util.event.bind(this.elems.selector,
"change",this._.dialogComplete),this.__setStyle("html5",this.elems.holder,this.elems.selector,this.cfg.button.text))},startUpload:function(){this.elems.poster=new XMLHttpRequest;FOCUS.util.event.bind(this.elems.poster.upload,"progress",this._.progress);FOCUS.util.event.bind(this.elems.poster.upload,"error",this._.error);FOCUS.util.event.bind(this.elems.poster.upload,"abort",this._.abort);FOCUS.util.event.bind(this.elems.poster,"readystatechange",this._.xhrComplete);this._.start()},setFileTypes:function(b){this.cfg.fileTypes=
this.elems.selector.accept=FOCUS.util.convert2Mimetype(b)},setFileQueueLimit:function(b){this.cfg.queueLimit=b;this.elems.selector.multiple=1!==b},queue:function(b,c){b.files&&(b=b.files);b&&b.length&&this._.__queued(b,c)}})}.call(this,this,this.document);var SWFUpload,swfobject;void 0==SWFUpload&&(SWFUpload=function(c){this.initSWFUpload(c)});
SWFUpload.prototype.initSWFUpload=function(c){try{this.customSettings={},this.settings={},this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(c),this.loadSupport(),this.swfuploadPreload()&&this.loadFlash(),this.displayDebugInfo()}catch(d){throw delete SWFUpload.instances[this.movieName],d;}};SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.5.0 2010-01-15 Beta 2";
SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290,RESIZE:-300};SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};SWFUpload.UPLOAD_TYPE={NORMAL:-1,RESIZED:-2};
SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120,JAVASCRIPT:-130,NONE:-130};SWFUpload.CURSOR={ARROW:-1,HAND:-2};SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};SWFUpload.RESIZE_ENCODING={JPEG:-1,PNG:-2};
SWFUpload.completeURL=function(c){try{var d="",f=-1;if("string"!==typeof c||c.match(/^https?:\/\//i)||c.match(/^\//)||""===c)return c;f=window.location.pathname.lastIndexOf("/");d=0>=f?"/":window.location.pathname.substr(0,f)+"/";return d+c}catch(b){return c}};SWFUpload.onload=function(){};
SWFUpload.prototype.initSettings=function(c){this.ensureDefault=function(d,f){var b=c[d];this.settings[d]=void 0!=b?b:f};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",!1);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",!1);this.ensureDefault("requeue_on_error",!1);this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types","*.*");this.ensureDefault("file_types_description",
"All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload.swf");this.ensureDefault("flash9_url","swfupload_fp9.swf");this.ensureDefault("prevent_swf_caching",!0);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");
this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",!1);this.ensureDefault("button_placeholder_id","");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW);this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW);this.ensureDefault("debug",!1);this.settings.debug_enabled=this.settings.debug;
this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_preload_handler",null);this.ensureDefault("swfupload_load_failed_handler",null);this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_resize_start_handler",null);this.ensureDefault("upload_start_handler",
null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("mouse_click_handler",null);this.ensureDefault("mouse_out_handler",null);this.ensureDefault("mouse_over_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;this.settings.prevent_swf_caching&&
(this.settings.flash_url=this.settings.flash_url+(0>this.settings.flash_url.indexOf("?")?"?":"&")+"preventswfcaching="+(new Date).getTime(),this.settings.flash9_url=this.settings.flash9_url+(0>this.settings.flash9_url.indexOf("?")?"?":"&")+"preventswfcaching="+(new Date).getTime());this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url));delete this.ensureDefault};
SWFUpload.prototype.loadSupport=function(){this.support={loading:swfobject.hasFlashPlayerVersion("9.0.28"),imageResize:swfobject.hasFlashPlayerVersion("10.0.0")}};
SWFUpload.prototype.loadFlash=function(){var c,d,f;if(this.support.loading)if(null!==document.getElementById(this.movieName))this.support.loading=!1,this.queueEvent("swfupload_load_failed_handler",["Element ID already in use"]);else if(c=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==c)this.support.loading=!1,this.queueEvent("swfupload_load_failed_handler",["button place holder not found"]);else{d="block"!==(c.currentStyle&&c.currentStyle.display||
window.getComputedStyle&&document.defaultView.getComputedStyle(c,null).getPropertyValue("display"))?"span":"div";d=document.createElement(d);f=this.getFlashHTML();try{d.innerHTML=f}catch(b){this.support.loading=!1;this.queueEvent("swfupload_load_failed_handler",["Exception loading Flash HTML into placeholder"]);return}f=d.getElementsByTagName("object");!f||1<f.length||0===f.length?(this.support.loading=!1,this.queueEvent("swfupload_load_failed_handler",["Unable to find movie after adding to DOM"])):
(1===f.length&&(this.movieElement=f[0]),c.parentNode.replaceChild(d.firstChild,c),void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement()))}else this.queueEvent("swfupload_load_failed_handler",["Flash Player doesn't support SWFUpload"])};
SWFUpload.prototype.getFlashHTML=function(c){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload"><param name="wmode" value="',this.settings.button_window_mode,'" /><param name="movie" value="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" /><param name="quality" value="high" /><param name="allowScriptAccess" value="always" />',
'<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")};
SWFUpload.prototype.getFlashVars=function(){var c,d;d=this.buildParamString();c=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(c),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),
"&amp;params=",encodeURIComponent(d),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),
"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),
"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")};SWFUpload.prototype.getMovieElement=function(){void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName));if(null===this.movieElement)throw"Could not find Flash element";return this.movieElement};
SWFUpload.prototype.buildParamString=function(){var c,d,f=[];d=this.settings.post_params;if("object"===typeof d)for(c in d)d.hasOwnProperty(c)&&f.push(encodeURIComponent(c.toString())+"="+encodeURIComponent(d[c].toString()));return f.join("&amp;")};
SWFUpload.prototype.destroy=function(){var c;try{this.cancelUpload(null,!1);if(c=this.cleanUp())try{c.parentNode.removeChild(c)}catch(d){}window[this.movieName]=null;SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];this.movieName=this.eventQueue=this.customSettings=this.settings=this.movieElement=null;return!0}catch(f){return!1}};
SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\nVersion: ",SWFUpload.version,"\nMovie Name: ",this.movieName,"\nSettings:\n\tupload_url:               ",this.settings.upload_url,"\n\tflash_url:                ",this.settings.flash_url,"\n\tflash9_url:                ",this.settings.flash9_url,"\n\tuse_query_string:         ",this.settings.use_query_string.toString(),"\n\trequeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n\thttp_success:             ",
this.settings.http_success.join(", "),"\n\tassume_success_timeout:   ",this.settings.assume_success_timeout,"\n\tfile_post_name:           ",this.settings.file_post_name,"\n\tpost_params:              ",this.settings.post_params.toString(),"\n\tfile_types:               ",this.settings.file_types,"\n\tfile_types_description:   ",this.settings.file_types_description,"\n\tfile_size_limit:          ",this.settings.file_size_limit,"\n\tfile_upload_limit:        ",this.settings.file_upload_limit,"\n\tfile_queue_limit:         ",
this.settings.file_queue_limit,"\n\tdebug:                    ",this.settings.debug.toString(),"\n\tprevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n\tbutton_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n\tbutton_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n\tbutton_image_url:         ",this.settings.button_image_url.toString(),"\n\tbutton_width:             ",this.settings.button_width.toString(),"\n\tbutton_height:            ",
this.settings.button_height.toString(),"\n\tbutton_text:              ",this.settings.button_text.toString(),"\n\tbutton_text_style:        ",this.settings.button_text_style.toString(),"\n\tbutton_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n\tbutton_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n\tbutton_action:            ",this.settings.button_action.toString(),"\n\tbutton_cursor:            ",this.settings.button_cursor.toString(),"\n\tbutton_disabled:          ",
this.settings.button_disabled.toString(),"\n\tcustom_settings:          ",this.settings.custom_settings.toString(),"\nEvent Handlers:\n\tswfupload_preload_handler assigned:  ",("function"===typeof this.settings.swfupload_preload_handler).toString(),"\n\tswfupload_load_failed_handler assigned:  ",("function"===typeof this.settings.swfupload_load_failed_handler).toString(),"\n\tswfupload_loaded_handler assigned:  ",("function"===typeof this.settings.swfupload_loaded_handler).toString(),"\n\tmouse_click_handler assigned:       ",
("function"===typeof this.settings.mouse_click_handler).toString(),"\n\tmouse_over_handler assigned:        ",("function"===typeof this.settings.mouse_over_handler).toString(),"\n\tmouse_out_handler assigned:         ",("function"===typeof this.settings.mouse_out_handler).toString(),"\n\tfile_dialog_start_handler assigned: ",("function"===typeof this.settings.file_dialog_start_handler).toString(),"\n\tfile_queued_handler assigned:       ",("function"===typeof this.settings.file_queued_handler).toString(),
"\n\tfile_queue_error_handler assigned:  ",("function"===typeof this.settings.file_queue_error_handler).toString(),"\n\tupload_resize_start_handler assigned:      ",("function"===typeof this.settings.upload_resize_start_handler).toString(),"\n\tupload_start_handler assigned:      ",("function"===typeof this.settings.upload_start_handler).toString(),"\n\tupload_progress_handler assigned:   ",("function"===typeof this.settings.upload_progress_handler).toString(),"\n\tupload_error_handler assigned:      ",
("function"===typeof this.settings.upload_error_handler).toString(),"\n\tupload_success_handler assigned:    ",("function"===typeof this.settings.upload_success_handler).toString(),"\n\tupload_complete_handler assigned:   ",("function"===typeof this.settings.upload_complete_handler).toString(),"\n\tdebug_handler assigned:             ",("function"===typeof this.settings.debug_handler).toString(),"\nSupport:\n\tLoad:                     ",this.support.loading?"Yes":"No","\n\tImage Resize:             ",
this.support.imageResize?"Yes":"No","\n"].join(""))};SWFUpload.prototype.addSetting=function(c,d,f){return void 0==d?this.settings[c]=f:this.settings[c]=d};SWFUpload.prototype.getSetting=function(c){return void 0!=this.settings[c]?this.settings[c]:""};
SWFUpload.prototype.callFlash=function(c,d){var f,b,h;d=d||[];f=this.getMovieElement();try{void 0!=f?(h=f.CallFunction('<invoke name="'+c+'" returntype="javascript">'+__flash__argumentsToXML(d,0)+"</invoke>"),b=eval(h)):this.debug("Can't call flash because the movie wasn't found.")}catch(a){this.debug("Exception calling flash function '"+c+"': "+a.message)}void 0!=b&&"object"===typeof b.post&&(b=this.unescapeFilePostParams(b));return b};SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")};
SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")};SWFUpload.prototype.startUpload=function(c){this.callFlash("StartUpload",[c])};SWFUpload.prototype.startResizedUpload=function(c,d,f,b,h,a){this.callFlash("StartUpload",[c,{width:d,height:f,encoding:b,quality:h,allowEnlarging:a}])};SWFUpload.prototype.cancelUpload=function(c,d){!1!==d&&(d=!0);this.callFlash("CancelUpload",[c,d])};SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")};
SWFUpload.prototype.requeueUpload=function(c){return this.callFlash("RequeueUpload",[c])};SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")};SWFUpload.prototype.setStats=function(c){this.callFlash("SetStats",[c])};SWFUpload.prototype.getFile=function(c){return"number"===typeof c?this.callFlash("GetFileByIndex",[c]):this.callFlash("GetFile",[c])};
SWFUpload.prototype.getQueueFile=function(c){return"number"===typeof c?this.callFlash("GetFileByQueueIndex",[c]):this.callFlash("GetFile",[c])};SWFUpload.prototype.addFileParam=function(c,d,f){return this.callFlash("AddFileParam",[c,d,f])};SWFUpload.prototype.removeFileParam=function(c,d){this.callFlash("RemoveFileParam",[c,d])};SWFUpload.prototype.setUploadURL=function(c){this.settings.upload_url=c.toString();this.callFlash("SetUploadURL",[c])};
SWFUpload.prototype.setPostParams=function(c){this.settings.post_params=c;this.callFlash("SetPostParams",[c])};SWFUpload.prototype.addPostParam=function(c,d){this.settings.post_params[c]=d;this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.removePostParam=function(c){delete this.settings.post_params[c];this.callFlash("SetPostParams",[this.settings.post_params])};
SWFUpload.prototype.setFileTypes=function(c,d){this.settings.file_types=c;this.settings.file_types_description=d;this.callFlash("SetFileTypes",[c,d])};SWFUpload.prototype.setFileSizeLimit=function(c){this.settings.file_size_limit=c;this.callFlash("SetFileSizeLimit",[c])};SWFUpload.prototype.setFileUploadLimit=function(c){this.settings.file_upload_limit=c;this.callFlash("SetFileUploadLimit",[c])};
SWFUpload.prototype.setFileQueueLimit=function(c){this.settings.file_queue_limit=c;this.callFlash("SetFileQueueLimit",[c])};SWFUpload.prototype.setFilePostName=function(c){this.settings.file_post_name=c;this.callFlash("SetFilePostName",[c])};SWFUpload.prototype.setUseQueryString=function(c){this.settings.use_query_string=c;this.callFlash("SetUseQueryString",[c])};SWFUpload.prototype.setRequeueOnError=function(c){this.settings.requeue_on_error=c;this.callFlash("SetRequeueOnError",[c])};
SWFUpload.prototype.setHTTPSuccess=function(c){"string"===typeof c&&(c=c.replace(" ","").split(","));this.settings.http_success=c;this.callFlash("SetHTTPSuccess",[c])};SWFUpload.prototype.setAssumeSuccessTimeout=function(c){this.settings.assume_success_timeout=c;this.callFlash("SetAssumeSuccessTimeout",[c])};SWFUpload.prototype.setDebugEnabled=function(c){this.settings.debug_enabled=c;this.callFlash("SetDebugEnabled",[c])};
SWFUpload.prototype.setButtonImageURL=function(c){void 0==c&&(c="");this.settings.button_image_url=c;this.callFlash("SetButtonImageURL",[c])};SWFUpload.prototype.setButtonDimensions=function(c,d){this.settings.button_width=c;this.settings.button_height=d;var f=this.getMovieElement();void 0!=f&&(f.style.width=c+"px",f.style.height=d+"px");this.callFlash("SetButtonDimensions",[c,d])};SWFUpload.prototype.setButtonText=function(c){this.settings.button_text=c;this.callFlash("SetButtonText",[c])};
SWFUpload.prototype.setButtonTextPadding=function(c,d){this.settings.button_text_top_padding=d;this.settings.button_text_left_padding=c;this.callFlash("SetButtonTextPadding",[c,d])};SWFUpload.prototype.setButtonTextStyle=function(c){this.settings.button_text_style=c;this.callFlash("SetButtonTextStyle",[c])};SWFUpload.prototype.setButtonDisabled=function(c){this.settings.button_disabled=c;this.callFlash("SetButtonDisabled",[c])};
SWFUpload.prototype.setButtonAction=function(c){this.settings.button_action=c;this.callFlash("SetButtonAction",[c])};SWFUpload.prototype.setButtonCursor=function(c){this.settings.button_cursor=c;this.callFlash("SetButtonCursor",[c])};
SWFUpload.prototype.queueEvent=function(c,d){var f=this;void 0==d?d=[]:d instanceof Array||(d=[d]);if("function"===typeof this.settings[c])this.eventQueue.push(function(){this.settings[c].apply(this,d)}),setTimeout(function(){f.executeNextEvent()},0);else if(null!==this.settings[c])throw"Event handler "+c+" is unknown or is not a function";};SWFUpload.prototype.executeNextEvent=function(){var c=this.eventQueue?this.eventQueue.shift():null;"function"===typeof c&&c.apply(this)};
SWFUpload.prototype.unescapeFilePostParams=function(c){var d=/[$]([0-9a-f]{4})/i,f={},b,h,a;if(void 0!=c){for(h in c.post)if(c.post.hasOwnProperty(h)){for(b=h;null!==(a=d.exec(b));)b=b.replace(a[0],String.fromCharCode(parseInt("0x"+a[1],16)));f[b]=c.post[h]}c.post=f}return c};
SWFUpload.prototype.swfuploadPreload=function(){var c;if("function"===typeof this.settings.swfupload_preload_handler)c=this.settings.swfupload_preload_handler.call(this);else if(void 0!=this.settings.swfupload_preload_handler)throw"upload_start_handler must be a function";void 0===c&&(c=!0);return!!c};SWFUpload.prototype.flashReady=function(){this.cleanUp()?this.queueEvent("swfupload_loaded_handler"):this.debug("Flash called back ready but the flash movie can't be found.")};
SWFUpload.prototype.cleanUp=function(){var c,d=this.getMovieElement();try{if(d&&"unknown"===typeof d.CallFunction)for(c in this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)"),d)try{"function"===typeof d[c]&&(d[c]=null)}catch(f){}}catch(b){}window.__flash__removeCallback=function(b,a){try{b&&(b[a]=null)}catch(c){}};return d};SWFUpload.prototype.mouseClick=function(){this.queueEvent("mouse_click_handler")};SWFUpload.prototype.mouseOver=function(){this.queueEvent("mouse_over_handler")};
SWFUpload.prototype.mouseOut=function(){this.queueEvent("mouse_out_handler")};SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};SWFUpload.prototype.fileQueued=function(c){c=this.unescapeFilePostParams(c);this.queueEvent("file_queued_handler",c)};SWFUpload.prototype.fileQueueError=function(c,d,f){c=this.unescapeFilePostParams(c);this.queueEvent("file_queue_error_handler",[c,d,f])};
SWFUpload.prototype.fileDialogComplete=function(c,d,f){this.queueEvent("file_dialog_complete_handler",[c,d,f])};SWFUpload.prototype.uploadResizeStart=function(c,d){c=this.unescapeFilePostParams(c);this.queueEvent("upload_resize_start_handler",[c,d.width,d.height,d.encoding,d.quality])};SWFUpload.prototype.uploadStart=function(c){c=this.unescapeFilePostParams(c);this.queueEvent("return_upload_start_handler",c)};
SWFUpload.prototype.returnUploadStart=function(c){var d;if("function"===typeof this.settings.upload_start_handler)c=this.unescapeFilePostParams(c),d=this.settings.upload_start_handler.call(this,c);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===d&&(d=!0);this.callFlash("ReturnUploadStart",[!!d])};SWFUpload.prototype.uploadProgress=function(c,d,f){c=this.unescapeFilePostParams(c);this.queueEvent("upload_progress_handler",[c,d,f])};
SWFUpload.prototype.uploadError=function(c,d,f){c=this.unescapeFilePostParams(c);this.queueEvent("upload_error_handler",[c,d,f])};SWFUpload.prototype.uploadSuccess=function(c,d,f){c=this.unescapeFilePostParams(c);this.queueEvent("upload_success_handler",[c,d,f])};SWFUpload.prototype.uploadComplete=function(c){c=this.unescapeFilePostParams(c);this.queueEvent("upload_complete_handler",c)};SWFUpload.prototype.debug=function(c){this.queueEvent("debug_handler",c)};
SWFUpload.prototype.debugMessage=function(c){var d,f;if(this.settings.debug){d=[];if("object"===typeof c&&"string"===typeof c.name&&"string"===typeof c.message){for(f in c)c.hasOwnProperty(f)&&d.push(f+": "+c[f]);c=d.join("\n")||"";d=c.split("\n");c="EXCEPTION: "+d.join("\nEXCEPTION: ")}SWFUpload.Console.writeLine(c)}};SWFUpload.Console={};
SWFUpload.Console.writeLine=function(c){var d,f;try{d=document.getElementById("SWFUpload_Console"),d||(f=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(f),d=document.createElement("textarea"),d.id="SWFUpload_Console",d.style.fontFamily="monospace",d.setAttribute("wrap","off"),d.wrap="off",d.style.overflow="auto",d.style.width="700px",d.style.height="350px",d.style.margin="5px",f.appendChild(d)),d.value+=c+"\n",d.scrollTop=d.scrollHeight-d.clientHeight}catch(b){alert("Exception: "+
b.name+" Message: "+b.message)}};
swfobject=function(){function c(){if(!C){try{var a=n.getElementsByTagName("body")[0].appendChild(n.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}C=!0;for(var a=I.length,c=0;c<a;c++)I[c]()}}function d(a){C?a():I[I.length]=a}function f(a){if(typeof t.addEventListener!=q)t.addEventListener("load",a,!1);else if(typeof n.addEventListener!=q)n.addEventListener("load",a,!1);else if(typeof t.attachEvent!=q)w(t,"onload",a);else if("function"==typeof t.onload){var b=t.onload;t.onload=function(){b();
a()}}else t.onload=a}function b(){var a=n.getElementsByTagName("body")[0],b=n.createElement(r);b.setAttribute("type",v);var c=a.appendChild(b);if(c){var e=0;(function(){if(typeof c.GetVariable!=q){var d=c.GetVariable("$version");d&&(d=d.split(" ")[1].split(","),l.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;h()})()}else h()}function h(){var b=A.length;if(0<b)for(var c=0;c<b;c++){var d=A[c].id,f=A[c].callbackFn,
h={success:!1,id:d};if(0<l.pv[0]){var k=s(d);if(k)if(x(A[c].swfVersion)&&!(l.wk&&312>l.wk))u(d,!0),f&&(h.success=!0,h.ref=a(d),f(h));else if(A[c].expressInstall&&e()){h={};h.data=A[c].expressInstall;h.width=k.getAttribute("width")||"0";h.height=k.getAttribute("height")||"0";k.getAttribute("class")&&(h.styleclass=k.getAttribute("class"));k.getAttribute("align")&&(h.align=k.getAttribute("align"));for(var m={},k=k.getElementsByTagName("param"),p=k.length,n=0;n<p;n++)"movie"!=k[n].getAttribute("name").toLowerCase()&&
(m[k[n].getAttribute("name")]=k[n].getAttribute("value"));g(h,m,d,f)}else z(k),f&&f(h)}else if(u(d,!0),f){if((d=a(d))&&typeof d.SetVariable!=q)h.success=!0,h.ref=d;f(h)}}}function a(a){var b=null;if((a=s(a))&&"OBJECT"==a.nodeName)typeof a.SetVariable!=q?b=a:(a=a.getElementsByTagName(r)[0])&&(b=a);return b}function e(){return!J&&x("6.0.65")&&(l.win||l.mac)&&!(l.wk&&312>l.wk)}function g(a,b,c,e){J=!0;M=e||null;O={success:!1,id:c};var d=s(c);if(d){"OBJECT"==d.nodeName?(G=m(d),K=null):(G=d,K=c);a.id=
H;if(typeof a.width==q||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==q||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";n.title=n.title.slice(0,47)+" - Flash Player Installation";e=l.ie&&l.win?"ActiveX":"PlugIn";e="MMredirectURL="+t.location.toString().replace(/&/g,"%26")+"&MMplayerType="+e+"&MMdoctitle="+n.title;b.flashvars=typeof b.flashvars!=q?b.flashvars+("&"+e):e;l.ie&&(l.win&&4!=d.readyState)&&(e=n.createElement("div"),c+="SWFObjectNew",e.setAttribute("id",
c),d.parentNode.insertBefore(e,d),d.style.display="none",function(){4==d.readyState?d.parentNode.removeChild(d):setTimeout(arguments.callee,10)}());p(a,b,c)}}function z(a){if(l.ie&&l.win&&4!=a.readyState){var b=n.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(m(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(m(a),a)}function m(a){var b=n.createElement("div");if(l.win&&
l.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(r)[0])if(a=a.childNodes)for(var c=a.length,e=0;e<c;e++)!(1==a[e].nodeType&&"PARAM"==a[e].nodeName)&&8!=a[e].nodeType&&b.appendChild(a[e].cloneNode(!0));return b}function p(a,b,c){var e,d=s(c);if(l.wk&&312>l.wk)return e;if(d)if(typeof a.id==q&&(a.id=c),l.ie&&l.win){var f="",g;for(g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+
g+'="'+a[g]+'"'));g="";for(var h in b)b[h]!=Object.prototype[h]&&(g+='<param name="'+h+'" value="'+b[h]+'" />');d.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+g+"</object>";L[L.length]=a.id;e=s(a.id)}else{h=n.createElement(r);h.setAttribute("type",v);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?h.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&h.setAttribute(k,a[k]));for(f in b)b[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&
(a=h,g=f,k=b[f],c=n.createElement("param"),c.setAttribute("name",g),c.setAttribute("value",k),a.appendChild(c));d.parentNode.replaceChild(h,d);e=h}return e}function k(a){var b=s(a);b&&"OBJECT"==b.nodeName&&(l.ie&&l.win?(b.style.display="none",function(){if(4==b.readyState){var c=s(a);if(c){for(var e in c)"function"==typeof c[e]&&(c[e]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function s(a){var b=null;try{b=n.getElementById(a)}catch(c){}return b}
function w(a,b,c){a.attachEvent(b,c);E[E.length]=[a,b,c]}function x(a){var b=l.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function F(a,b,c,e){if(!l.ie||!l.mac){var d=n.getElementsByTagName("head")[0];if(d){c=c&&"string"==typeof c?c:"screen";e&&(N=y=null);if(!y||N!=c)e=n.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",c),y=d.appendChild(e),
l.ie&&(l.win&&typeof n.styleSheets!=q&&0<n.styleSheets.length)&&(y=n.styleSheets[n.styleSheets.length-1]),N=c;l.ie&&l.win?y&&typeof y.addRule==r&&y.addRule(a,b):y&&typeof n.createTextNode!=q&&y.appendChild(n.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(P){var c=b?"visible":"hidden";C&&s(a)?s(a).style.visibility=c:F("#"+a,"visibility:"+c)}}function D(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=q?encodeURIComponent(a):a}var q="undefined",r="object",v="application/x-shockwave-flash",
H="SWFObjectExprInst",t=window,n=document,B=navigator,Q=!1,I=[function(){Q?b():h()}],A=[],L=[],E=[],G,K,M,O,C=!1,J=!1,y,N,P=!0,l=function(){var a=typeof n.getElementById!=q&&typeof n.getElementsByTagName!=q&&typeof n.createElement!=q,b=B.userAgent.toLowerCase(),c=B.platform.toLowerCase(),e=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,d=!+"\v1",f=[0,0,0],g=null;if(typeof B.plugins!=q&&typeof B.plugins["Shockwave Flash"]==
r){if((g=B.plugins["Shockwave Flash"].description)&&!(typeof B.mimeTypes!=q&&B.mimeTypes[v]&&!B.mimeTypes[v].enabledPlugin))Q=!0,d=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),f[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),f[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),f[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof t.ActiveXObject!=q)try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(h&&(g=h.GetVariable("$version")))d=!0,g=g.split(" ")[1].split(","),
f=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]}catch(k){}return{w3:a,pv:f,wk:b,ie:d,win:e,mac:c}}();(function(){l.w3&&((typeof n.readyState!=q&&"complete"==n.readyState||typeof n.readyState==q&&(n.getElementsByTagName("body")[0]||n.body))&&c(),C||(typeof n.addEventListener!=q&&n.addEventListener("DOMContentLoaded",c,!1),l.ie&&l.win&&(n.attachEvent("onreadystatechange",function(){"complete"==n.readyState&&(n.detachEvent("onreadystatechange",arguments.callee),c())}),t==top&&function(){if(!C){try{n.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,
0);return}c()}}()),l.wk&&function(){C||(/loaded|complete/.test(n.readyState)?c():setTimeout(arguments.callee,0))}(),f(c)))})();(function(){l.ie&&l.win&&window.attachEvent("onunload",function(){for(var a=E.length,b=0;b<a;b++)E[b][0].detachEvent(E[b][1],E[b][2]);a=L.length;for(b=0;b<a;b++)k(L[b]);for(var c in l)l[c]=null;l=null;for(var e in swfobject)swfobject[e]=null;swfobject=null})})();return{registerObject:function(a,b,c,e){if(l.w3&&a&&b){var d={};d.id=a;d.swfVersion=b;d.expressInstall=c;d.callbackFn=
e;A[A.length]=d;u(a,!1)}else e&&e({success:!1,id:a})},getObjectById:function(b){if(l.w3)return a(b)},embedSWF:function(a,b,c,f,h,k,m,n,s,t){var v={success:!1,id:b};l.w3&&!(l.wk&&312>l.wk)&&a&&b&&c&&f&&h?(u(b,!1),d(function(){c+="";f+="";var d={};if(s&&typeof s===r)for(var l in s)d[l]=s[l];d.data=a;d.width=c;d.height=f;l={};if(n&&typeof n===r)for(var z in n)l[z]=n[z];if(m&&typeof m===r)for(var w in m)l.flashvars=typeof l.flashvars!=q?l.flashvars+("&"+w+"="+m[w]):w+"="+m[w];if(x(h))z=p(d,l,b),d.id==
b&&u(b,!0),v.success=!0,v.ref=z;else{if(k&&e()){d.data=k;g(d,l,b,t);return}u(b,!0)}t&&t(v)})):t&&t(v)},switchOffAutoHideShow:function(){P=!1},ua:l,getFlashPlayerVersion:function(){return{major:l.pv[0],minor:l.pv[1],release:l.pv[2]}},hasFlashPlayerVersion:x,createSWF:function(a,b,c){if(l.w3)return p(a,b,c)},showExpressInstall:function(a,b,c,d){l.w3&&e()&&g(a,b,c,d)},removeSWF:function(a){l.w3&&k(a)},createCSS:function(a,b,c,e){l.w3&&F(a,b,c,e)},addDomLoadEvent:d,addLoadEvent:f,getQueryParamValue:function(a){var b=
n.location.search||n.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return D(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return D(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(J){var a=s(H);a&&G&&(a.parentNode.replaceChild(G,a),K&&(u(K,!0),l.ie&&l.win&&(G.style.display="block")),M&&M(O));J=!1}}}}();swfobject.addDomLoadEvent(function(){"function"===typeof SWFUpload.onload&&SWFUpload.onload.call(window)});
void function(c,d,f){FOCUS.namespace("FOCUS.widget");var b={flash_url:"flashURL",flash9_url:"flash9URL",upload_url:"uploadURL",file_post_name:"filePostName",post_params:"postParams",file_types:"fileTypes",file_types_description:"fileTypesDescription",file_upload_limit:"uploadLimit",file_size_limit:"sizeLimit",file_queue_limit:"queueLimit",button_placeholder_id:"placeholder",swfupload_loaded_handler:"events.ready",swfupload_load_failed_handler:"events.fail",file_dialog_start_handler:"events.dialogStart",
file_queued_handler:"events.queued",file_queue_error_handler:"events.queueError",file_dialog_complete_handler:"events.dialogComplete",upload_start_handler:"events.uploadStart",upload_progress_handler:"events.uploadProgress",upload_error_handler:"events.uploadError",upload_success_handler:"events.uploadSuccess",upload_complete_handler:"events.uploadComplete",debug:"debug",button_width:"button.width",button_height:"button.height",button_text:"button.text"},h=function(a){a=(a||"").split(/\./);for(var b=
this,c=!1,d;d=a.shift();)if(d in b)c=!0,b=b[d];else{c=!1;break}return{has:c,value:c?b:null}};FOCUS.widget.Upload_Flash=function(a){this.constructor=arguments.callee;this.mode=FOCUS.widget.Upload.MODE.FLASH;this.cfg={};this.elems={};this._={flash_cfg:{flash_url:FOCUS.BASEPATH+"widget/upload/flash/swfupload.swf",flash9_url:FOCUS.BASEPATH+"wigdet/upload/flash/swfupload_fp9.swf",debug:!1,file_upload_limit:-1,button_width:650,button_height:200,button_cursor:SWFUpload.CURSOR.HAND,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT},
status:FOCUS.widget.Upload.TURNING.ON};this.set(a);this.init();this.instance=new SWFUpload(this._.flash_cfg)};FOCUS.widget.Upload_Flash.prototype=new FOCUS.widget.UploadBase;FOCUS.util.extend(!0,FOCUS.widget.Upload_Flash.prototype,{init:function(){this.elems.holder=d.createElement("div");this.elems.flashWrap=d.createElement("div");this.elems.flashHolder=d.createElement("span");var a=this.elems.flashHolder.id="FOCUS_UPLOAD_FlashHolder_"+FOCUS.util.random(0,1E3),b=FOCUS.query?FOCUS.query(this._.flash_cfg.button_placeholder_id):
d.getElementById(this._.flash_cfg.button_placeholder_id);"length"in b&&(b=b[0]);b&&(b.parentNode.insertBefore(this.elems.holder,b),this.elems.holder.appendChild(this.elems.flashWrap),this.elems.flashWrap.appendChild(this.elems.flashHolder));this.__setStyle("flash",this.elems.holder,this.elems.flashWrap,this._.flash_cfg.button_text);this._.flash_cfg.button_placeholder_id=a;this._.flash_cfg.button_text=""},set:function(a){FOCUS.util.extend(!0,this.cfg,a);this.__setFlashCfg(this.cfg)},__setFlashCfg:function(a){var c,
d;for(d in b)c=h.call(a,b[d]),c.has&&(this._.flash_cfg[d]=c.value);this._.flash_cfg.button_action=SWFUpload.BUTTON_ACTION[a.multiple?"SELECT_FILES":"SELECT_FILE"];this.instance&&(this.multiple(this.cfg.multiple),this.setFileTypes(this.cfg.fileTypes),this.setFileSizeLimit(this.cfg.sizeLimit),this.setUploadURL(this.cfg.uploadURL),this.setFilePostName(this.cfg.filePostName),this.setFileQueueLimit(this.cfg.queueLimit))},__setStyle:function(a,b,c,f){var h=FOCUS.util,p=FOCUS.widget.Upload.CSS;b.className=
p.WRAP;c.className=p.FLASH;a=b.getElementsByTagName("label");a.length&&b.removeChild(a[0]);a=d.createElement("label");a.className=p.TEXT;a.innerHTML=f;b.insertBefore(a,c);h.event.bind(b,"mouseover",function(a){a.cancelBubble=!0;a.returnValue=!1;h.addClass(b,p.HOVER)});FOCUS.util.event.bind(b,"mouseout",function(a){a.cancelBubble=!0;a.returnValue=!1;h.removeClass(b,p.HOVER)})},startUpload:function(){return this.instance.startUpload()},cancelUpload:function(a){if("function"===FOCUS.util.type(a))this.one("uploadError",
a);this.instance.cancelUpload(0,!0)},stopUpload:function(a){if("function"===FOCUS.util.type(a))this.one("uploadError",a);this.instance.stopUpload()},getQueueFile:function(a){return new FOCUS.widget.Upload.File(this.instance.getQueueFile(a))},setPostParam:function(a){return this.instance.setPostParam(a)},addPostParam:function(a,b){return this.instance.addPostParam(a,b)},removePostParam:function(a){return this.instance.removePostParam(a)},setUploadURL:function(a){this.cfg.uploadURL=a;return this.instance.setUploadURL(a)},
setFilePostName:function(a){return this.instance.setFilePostName(a)},setFileTypes:function(a,b){this.cfg.fileTypes=FOCUS.util.convert2MimeTypes(a);this.instance.setFileTypes(FOCUS.util.convertMimeTypes(a),b)},setFileSizeLimit:function(a){this.cfg.sizeLimit=limt;this.instance.setFileSizeLimit(a)},setFileQueueLimit:function(a){this.cfg.queueLimit=a;this.instance.setFileQueueLimit(a)},__translateStatus:function(a){var b=FOCUS.util.type(a);"string"===b?(a=FOCUS.util.trim(a),a=a.length?!!FOCUS.widget.Upload.TURNING[a.toUpperCase()]:
FOCUS.widget.Upload.TURNING.OFF):a="undefined"===b?!_this._.status:!!a;return a},turn:function(a){a=this.__translateStatus(a);var b=FOCUS.util,c=FOCUS.widget.Upload.CSS,d=FOCUS.widget.Upload.CURSOR;this._.status=a;b[a?"removeClass":"addClass"](this.elems.holder,c.DISABLED);this.ready(function(){this.instance.setButtonDisabled(!a);this.instance.setButtonCursor(d[a?"POINTER":"DEFAULT"])})},multiple:function(a){this.instance.setButtonAction(SWFUpload.BUTTON_ACTION[a?"SELECT_FILES":"SELECT_FILE"])}})}.call(this,
this,document);
void function(c,d,f){if(swfobject&&FOCUS.util.flash.has&&c.FormData&&c.FormData.customized){f=d.createElement("div");f.style.cssText=";position:absolute; top:0; right:2px; float:none; display:block; width:1px; height:1px; margin:0; padding:0; border:0 none; font-size:0; line-height:0; background-color:transparent;";var b=d.createElement("span");b.id="FOCUS_UPLOAD_PATCH_CHARSET_"+(new Date).valueOf().toString(16).toUpperCase();d.body.appendChild(f);f.appendChild(b);swfobject.embedSWF(FOCUS.BASEPATH+"widget/upload/html5/transformCharset/transformCharset.swf",
b.id,1,1,"9.0.0",null,null,null,null,function(){var d=c.setInterval(function(){var a=swfobject.getObjectById(b.id);a&&(c.clearInterval(d),FOCUS.util.transformCharset=function(b,c){return a.transformCharset(b,c||"UTF-8")})},25)})}}.call(this,this,document);
