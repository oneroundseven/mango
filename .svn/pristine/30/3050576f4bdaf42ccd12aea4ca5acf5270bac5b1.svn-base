/* Pub Time: August 20, 2013 11:53:44 */(function(k){function o(b,c,d){"undefined"==typeof d&&(d=!0);for(var a in c)if("Object"===Object.prototype.toString.call(c[a]))arguments.callee(b,c[a]);else if(!b[a]||d)b[a]=c[a];return b}function q(b){b.innerHTML=""}function r(b){""===this.elems.carrier.value&&(b.innerHTML=this._.placeholder)}function g(b,c){return b.currentStyle?b.currentStyle[c]:k.getComputedStyle(b,null)[c]}var l=new Abstract({setValue:function(){},initPage:function(){}}),f=null,e=null,p="",h=new Clazz(l,{config:{carrier:null,
control:{unifieddisplay:!1},style:{color:"#BBB",fontFamily:""},onchange:null},inherit:Component},function(b){this.setConfig(b);this._.support="placeholder"in document.createElement("input");this._.placeholder=null;this.setValue.implement(this._setValue);return this.initialize()});h.initPage=function(b){var c=[],d,a,e;if(document.querySelectorAll){d=document.querySelectorAll("input[placeholder]");a=0;for(e=d.length;a<e;a++)c.push(d[a]);d=document.querySelectorAll("textarea[placeholder]");a=0;for(e=
d.length;a<e;a++)c.push(d[a])}else{d=document.getElementsByTagName("input");a=0;for(e=d.length;a<e;a++)d[a].placeholder&&c.push(d[a]);d=document.getElementsByTagName("textarea");a=0;for(e=d.length;a<e;a++)d[a].placeholder&&c.push(d[a])}if(c.length)return new h(o({carrier:c},b,!1))};h.extend({initialize:function(){var b=this.config;if(!b.carrier)throw Error("Placeholder not support with carrier null!");if("[object Array]"==Object.prototype.toString.call(b.carrier)){var c=[],d,a,i;d=0;for(a=b.carrier.length;d<
a;d++)(i=b.carrier[d])&&1===i.nodeType&&c.push(new h(o({carrier:i},b,!1)));return c}this.elems.carrier=e=b.carrier;if(!e.getAttribute("placeholder"))throw Error("Element not has placeholder!");e.getAttribute("id")||e.setAttribute("id","p_"+(new Date).getTime());this._.placeholder=p=e.getAttribute("placeholder");b.control.unifieddisplay&&(this._.support=!1,e.setAttribute("placeholder",""));if(!this._.support){if(this.config.onchange)this.on("change",this.config.onchange);var b=this.elems,c=e,m,n,j;
f=document.createElement("label");f.htmlFor=e.id;d=g(c,"padding");a=g(c,"margin");i=g(c,"fontSize");m=g(c,"borderTopWidth");n=g(c,"borderBottomWidth");j=g(c,"marginTop");a||(a=getComputedStyle(c,null).marginTop+" 0");if(0!==parseInt(m)||0!==parseInt(n))j=parseInt("auto"===j?0:j)+parseInt(m)+parseInt(n)+"px";f.style.cssText="position:absolute; color:"+this.config.style.color+"; cursor:text; line-height:1; padding:"+d+"; margin:"+a+"; margin-top:"+j+"; font-size:"+i+"; font-family:"+this.config.style.fontFamily;
b.label=f;""===e.value&&(f.innerHTML=p);e.parentNode.insertBefore(f,e);var k=this,l=f;e.onfocus=function(){q.call(e,l)};var s=f;e.onblur=function(){r.call(k,s)}}},_setValue:function(b){this._.placeholder=b;this.config.control.unifieddisplay||this.elems.carrier.setAttribute("placeholder",b);!this._.support&&""===this.elems.carrier.value&&(this.elems.label.innerHTML=b);this.fire("change")}});k.Placeholder=h})(window);
