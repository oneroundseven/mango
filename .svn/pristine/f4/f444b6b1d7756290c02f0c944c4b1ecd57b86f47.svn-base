/**
* upload
* @version 0.6.8
* @namespace FOCUS.widget
* @author lvxiang
*/
window.FOCUS=window.FOCUS||{};
void function(f,l,n){this.UUID=(new Date).valueOf().toString(16).toUpperCase();this.namespace=function(){for(var d=[].slice.call(arguments),k,a,c,b=[];d.length;){k=d.shift().split(/\./);for(c=f;k.length;)a=k.shift(),c[a]||(c[a]={}),c=c[a];b.push(c)}return 1<b.length?b:b[0]};this.BASEPATH=f.FOCUS_BASEPATH||function(d){for(var k=f.location,a=/^(\w+\:\/{2,3}.+?)\//.exec(k.href)[1],c=/(.*?\/)(?:[^\/]*?(?:base|upload|transmitter)[^\/]*?)\.js(?:[?#].*)?$/i,b=/^\w+\:\/\//,g=/^\//,e=/^.*\//,h,r,s=0,q=d.length;s<
q;s++)if(r=d[s].src,b.test(r)||(r=g.test(r)?a+r:e.exec(k.href)[0]+r),r=c.exec(r)){h=r[1];break}h?(h=h.replace(RegExp(k.protocol+"\\/\\/"+k.host,"i"),""),h=k.protocol+"//"+k.host+h):h=e.exec(k.href)[0];return h}(l.getElementsByTagName("script"))}.call(FOCUS,this,this.document);void function(){var f=this.BASEPATH;this.PATH_CHARSET=f+"swf/transform4Charset.swf";this.PATH_FLASH=f+"swf/swfupload.swf";this.PATH_FLASH_FP9=f+"swf/swfupload_fp9.swf"}.call(FOCUS);
void function(f,l,n){var d=this.namespace("FOCUS.util");d.type=function(a){var b,g=/\{\s*\[native\s*code\]\s*\}/i;null===a?b="null":"undefined"===typeof a?b="undefined":(b=Object.prototype.toString.call(a).match(/\w+/g)[1].toLowerCase(),"object"===b&&g.test(a+"")&&(b="function"));return b};d.trim=function(a){return(a+"").replace(/^[\s\u00A0]+|[\s\u00A0]+$/g,"")};d.JSON=function(a){var b={};b.stringify=a?a.stringify:function(){return""};b.parse=function(b){var a;if("string"===d.type(b))try{a=(new Function("return "+
b))()}catch(c){a={}}else a=b;return a};return b}.call(this,f.JSON);d.browser=function(a){var b=/chrome\/(\d+\.\d+)/,g=/safari\/(\d+\.\d+)/,e=/version\/(\d+\.\d+)/,h={},r;if(r=/msie\s*(\d+\.\d+)/.exec(a))return h.msie=!0,h.version=r[1],h;if(r=/firefox\/(\d+\.\d+)/.exec(a))return h.mozilla=h.firefox=!0,h.version=r[1],h;if(r=/webkit\/(\d+\.\d+)/.exec(a)){h.webkit=!0;h.version=r[1];if(f.chrome)return h.chrome=!0,h.version=b.exec(a)[1],h;if(r=g.exec(a))h.safari=!0,h.version=[1];return h}if((r=/opera/.exec(a))&&
f.opera)h.opera=!0,h.version=e.exec(a)[1];return h}.call(this,f.navigator.userAgent.toLowerCase());d.flash=function(a,b){var g={has:!1,version:0};if(b.length&&b["Shockwave Flash"])b["Shockwave Flash"].description&&!("undefined"!==typeof a.mimeTypes&&a.mimeTypes["application/x-shockwave-flash"]&&!a.mimeTypes["application/x-shockwave-flash"].enabledPlugin)&&(g={has:!0,version:/\d+\.\d+/.exec(b["Shockwave Flash"].description)[0]});else if(f.ActiveXObject){var e,h=/\d+/g;try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(r){}e&&
(h.exec(""),g={has:!0,version:e.GetVariable("$version").match(h).join(".")})}return g}.call(this,f.navigator,f.navigator.plugins);d.extend=function(){var a=arguments.callee,b,g;"object"!==d.type(arguments[0])?(b=1,g=!!arguments[0]):(b=0,g=!1);var e=arguments[b]||{};b=[].slice.call(arguments,b+1);for(var h,r;b.length;)if(h=b.shift(),"object"===d.type(h)){var s,q;for(q in h)if(s=h[q],"object"===d.type(s))if(s==f||s==l||"childNodes"in s&&"nextSibling"in s&&"nodeType"in s){if(g||!(q in e))e[e]=s}else{r=
d.type(e[q]);if(!(q in e)||"undefined"===r||"null"===r)e[q]={};"object"===d.type(e[q])&&a(g,e[q],s)}else if(g||!(q in e))e[q]=s}return e};d.console=function(a){var b=!1,g=function(){},e={ON:!0,OFF:!1},g={SWITCH:e,turn:function(a){b=e[a?"ON":"OFF"]},log:g,info:g,warn:g,error:g,debug:g};if(!a)return g;a.debug||(a.debug=a.log);a.error||(a.error=a.warn);return d.extend(!0,g,{log:function(h){b===e.ON&&a.log(h)},info:function(h){b===e.ON&&a.info(h)},warn:function(h){b===e.ON&&a.warn(h)},error:function(h){b===
e.ON&&a.error(h)},debug:function(h){b===e.ON&&a.debug(h)}})}.call(f,f.console);d.indexOf=function(a,b){if(a.indexOf)return a.indexOf(b);for(var g=-1,e=0,h=a.length;e<h;e++)if(a[e]===b){g=e;break}return g};d.unique=function(a){for(var b=[],g=0,e=a.length;g<e;g++)-1===d.indexOf(b,a[g])&&b.push(a[g]);return b};d.random=function(){var a={};return function(b,g,e){b=b||0;g="number"===d.type(g)&&!isNaN(g)?g===b?g+10:g:b+10;var h=b+"_"+g;a[h]||(a[h]=[]);a[h].length===g-b&&(a[h]=[],"function"===d.type(e)&&
e.call(this));for(var r;;)if(r=b+~~(Math.random()*(g-b)),-1===d.indexOf(a[h],r)){a[h].push(r);break}return r}}.call(this);d.createElement=function(){return function(a){var b={};d.extend(!0,b,a);a="textarea"===b.el.toLowerCase();var g,e=d.extend(!0,{},b),h=["<",e.el],r=e.el;delete e.el;for(g in e)h.push(" ",g,'="',e[g],'"');h.push(-1===",meta,base,link,img,input,br,hr,area,sharp,".indexOf(","+r+",")?"></"+r+">":" />");g=h.join("");var f,e=!1;try{f=l.createElement(g)}catch(q){e=!0,f=l.createElement(b.el),
delete b.el}if(e)for(var k in b)f[k]=b[k];a&&(f.value=b.value);"input"===f.tagName.toLowerCase()&&(f.type=b.type?b.type:"text");return f}}.call(this);d.event=function(){var a=function(a){return a?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)}}.call(this,!!f.addEventListener);(function(a){return a?function(a,b,c){a.removeEventListener(b,c)}:function(a,b,c){a.detachEvent("on"+b,c)}}).call(this,!!f.removeEventListener);var b="FOCUS_EVENTS_"+(new Date).valueOf(),
g=function(a,b){for(var c=0,g=b.length;c<g;c++)b[c].handler.apply(this,[a].concat(b[c].params))};return{bind:function(e,h,d){e[b]||(e[b]={});var k=e[b];k[h]||(k[h]=[],a(e,h,function(a){a=a||f.event;g.call(e,a,k[h])}));k[h].push({handler:d,params:[].slice.call(arguments,3)})},remove:function(a,c,g){if(a[b]&&!(a[b]&&!a[b][c]||a[b]&&!a[b][c].length))if(a=a[b][c],g){c=-1;for(var d=0,f=a.length;d<f;d++)if(a[d].handler===g){c=d;break}g=c;-1!=g&&a.splice(g,1)}}}}.call(this);d.feature_upload=function(a){var b=
function(){var b=d.flash,g=b.has;if(b&&b.has&&a.oscpu&&d.browser.firefox&&4<=d.browser.version&&13>=d.browser.version){var e=/windows\s*nt\s*([\d\.]+)/i.exec(a.oscpu);if(e&&(/^6\.0/.test(e[1])||/^6\.1/.test(e[1]))&&/^11\.3/.test(b.version))g=!1}return g}.call(this),g=function(){if(d.browser.firefox&&3.6>d.browser.version)return!1;var a={},b=l.createElement("input");b.type="file";b.style.cssText="position:absolute; top:-999px; height:-999px;";l.body.appendChild(b);a.file=!!b.files;a.multiple="multiple"in
b&&!(d.browser.apple&&6>d.browser.version);l.body.removeChild(b);delete b;if(!f.XMLHttpRequest)return!1;b=new XMLHttpRequest;a.upload=!!b.upload;a.sendAsBinary=!!b.sendAsBinary;a.FormData=!!f.FormData&&!f.FormData.customized;delete b;return a}.call(this),e=function(){var a={};a.sameDomain=l.domain===(f.location.host||f.location.hostname);return a}.call(this);return{html5:g,flash:b,iframe:e}}.call(this,f.navigator);d.sizeConvert=function(){var a={KB:1024,MB:1048576,GB:1073741824},b=function(a,b){this.size=
a;this.unit=b};b.prototype={toString:function(){return this.size+" "+this.unit},valueOf:function(){return this.size}};var g=/^((?:\d+)(?:\.\d+)?)\s*([A-Za-z]*)$/g,e=/([A-Za-z]+)$/;return{unit2Bytes:function(b){var d=0;e.test(b)?(g.exec(""),(b=g.exec(b))&&(d=(parseFloat(b[1])||0)*(b[2]?a[b[2].toUpperCase()]:1024))):d=parseInt(b)||0;return d||0},bytes2Unit:function(g,e){var d=0,f=["GB","MB","KB"];e=e||"";if(!e)for(var k=0;k<f.length;k++)if(g>a[f[k]]){e=f[k];break}e&&(d=g/a[e]);return d=new b(d||0,e)}}}.call(this);
!f.FormData&&d.feature_upload.html5.sendAsBinary&&(f.FormData=function(a){this.charset=a||"UTF-8";this.reset()},f.FormData.prototype={append:function(a,b){var g="",e=this.EOL,h="--"+this.boundary,f=d.type(b);"object"===f&&(b=JSON.stringify(b),f="string");g=g+(h+e)+"Content-Disposition: form-data; ";"file"===f?(g+='name="'+this.encode(a)+'"; ',g+='filename="'+this.encode(b.filename||b.name)+'"'+e,g+="Content-Type: "+(b.type?b.type:"application/octet-stream")+e+e,g+=b.getAsBinary()+e):(g+='name="'+
this.encode(a)+'"'+e+e,g+=this.encode(b)+e);this.data+=g},getData:function(){return this.data+"--"+this.boundary+"--"+this.EOL},valueOf:function(){return this.getData()},toString:function(){return this.getData()},reset:function(){this.data="";this.boundary="---------------------------71"+(new Date).valueOf().toString(16).replace(/^0x/,"");this.EOL="\r\n"},encode:function(a){return d.transformCharset?d.transformCharset(a,this.charset):encodeURI(a)}},f.FormData.customized=!0);var k={"*/*":"*.*","image/*":"*.jpg; *.jpeg; *.jpe; *.png; *.gif",
"image/png":"*.png","image/jpeg":"*.jpg; *.jpeg; *.jpe","image/jpg":"*.jpg; *.jpeg; *.jpe","image/gif":"*.gif","image/bmp":"*.bmp","application/gzip":"*.gz","application/zip":"*.zip","application/vnd.ms-excel":"*.xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"*.xlsx","application/msword":"*.doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"*.docx","application/vnd.ms-powerpoint":"*.ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"*.pptx",
"application/mshelp":"*.hlp; *.chm","application/pdf":"*.pdf","application/mp3":"*.mp3","text/html":"*.html; *.htm; *.xhtml","text/javascript":"*.js","text/css":"*.css","text/plain":"*.txt","default":"*.*"},a=function(a){var b=["image/*","image/jpg","default"],g={},e;for(e in a)-1===d.indexOf(b,e)&&a[e].replace(/[^\;\u0020]+/g,function(a){g[a]=e});return g}(k);d.convert2MimeTypes=function(c){c=c.split(/[\;\,]\s*/);var b=[],g="";if(c.length){for(var e=/^[^\/]+\/[^\/]+$/,h=0;h<c.length;h++)if(e.test(c[h]))b.push(c[h]);
else if(c[h]in a&&"*.*"!==c[h])b.push(a[c[h]]);else{g="*/*";break}g||(g=d.unique(b).join(", "))}else g="*/*";return g};d.convertMimeTypes=function(a){a=a.split(/[\;\,]\s*/);var b=[],g="";if(a.length){for(var e=/^[^\\\/]+\.[^\\\/]+$/,h=0;h<a.length;h++)if(e.test(a[h]))b.push(a[h]);else if(a[h]in k&&"*/*"!==a[h])b.push(k[a[h]]);else{g="*.*";break}g||(g=d.unique(b).join("; "))}else g="*.*";return g};d.mimeValidation=function(a,b){if(-1!==(a+"").indexOf("*/*"))return!0;b+="";"string"===d.type(a)&&(a=
a.split(/[\;\,\s]+/));var g=!1,e=/^([^\/]+)\/([^\/]+)$/,h=e.exec(b),f;if(!h)return!1;for(var k=0;k<a.length;k++)if(f=e.exec(a[k]),a[k]===b||f[1]===h[1]&&("*"===f[2]||f[2]===h[2])){g=!0;break}return g};d.addClass=function(a,b){var g=d.trim(a.className).split(/\s+/);g.push(b);a.className=d.unique(g).join(" ")};d.removeClass=function(a,b){var g=d.unique(d.trim(a.className).split(/\s+/)),e=d.indexOf(g,b);-1!==e&&g.splice(e,1);a.className=g.join(" ")}}.call(FOCUS,this,this.document);
void function(f,l,n){this.namespace("FOCUS.widget");var d=this.util,k=this.widget,a=function(){},c=function(){var a=d.feature_upload;return{flash:a.flash,html5:a.html5&&a.html5.upload&&(a.html5.sendAsBinary||a.html5.FormData),iframe:!0}}.call(this),b=k.Upload=function(c){this.cfg={priority:b.PRIORITY.DEFAULT,events:{ready:a,loadFailed:a,dialogStart:a,dialogComplete:a,queued:a,queueError:a,uploadStart:a,uploadProgress:a,uploadSuccess:a,uploadError:a,uploadComplete:a},button:{text:"Upload"},multiple:!0,
sizeLimit:-1,uploadLimit:-1,queueLimit:-1,fileTypes:b.MIME_TYPE.ALL,uploadURL:"",filePostName:"",placeholder:"#uploader",debug:!1,plugins:"UploadEvents,AutoDisabled,Ready,Patch4Charset",fileTypesDescription:"All Files"};this.set(c);b.plugins.UploadEvents&&(this.uploadEvents=new b.plugins.UploadEvents(this.cfg.events),this.set({events:this.uploadEvents.events}));this._={};this.init();return this.instance};b.prototype={init:function(){for(var a=this,e=this.cfg.priority,h,f=0;f<e.length;f++)if(c[e[f]]){h=
e[f];break}e={html5:"Upload_HTML5",flash:"Upload_Flash",iframe:"Upload_Iframe"};if(h){if(h===b.MODE.FLASH){for(var l in this.cfg.events)this.cfg.events[l]=function(a,c){var h=b.File4Flash;return function(b){b&&b.id?a.apply(this,[new h(b)].concat([].slice.call(arguments,1))):a.apply(this,[].slice.call(arguments,0))}}.call(this,this.cfg.events[l],l);this.cfg.fileTypes=d.convertMimeTypes(this.cfg.fileTypes);this.cfg.events.ready=function(b){return function(){setTimeout(function(){b.call(a.instance,h)},
25)}}(this.cfg.events.ready)}else this.cfg.fileTypes=d.convert2MimeTypes(this.cfg.fileTypes);this.instance=new k[e[h]](this.cfg);h!==b.MODE.FLASH&&setTimeout(function(){a.cfg.events.ready.call(a.instance,h)},25);l=b.plugins;l.UploadEvents&&(this.uploadEvents.bindThisObj(this.instance),"on,one,off,fire".replace(/(\w+)/g,function(b){a.instance[b]=function(){a.uploadEvents[b].apply(a.uploadEvents,arguments);return a.instance}}));for(var q in l)q.replace(/([\$\^\[\]\\/\,\?\:\|\{\}\!\(\)\*\-\+])/g,"\\$1"),
"UploadEvents"!==q&&RegExp("(^|,)"+q+"(,|$)").exec(this.cfg.plugins)&&l[q].call(this.instance,this.instance.mode)}else throw"not support this constructor.";},set:function(a){var b=this.cfg.plugins;a&&(a.plugins&&"string"===d.type(a.plugins))&&(b+=","+a.plugins,b=d.unique(b.split(/[,;\s]+/)).join(","));d.extend(!0,this.cfg,a);this.cfg.plugins=b}}}.call(FOCUS,this,this.document);
void function(f,l,n){var d=this.widget.Upload,k=this.util;f=d.MODE={HTML5:"html5",FLASH:"flash",IFRAME:"iframe",DEFAULT:"html5"};d.PRIORITY={DEFAULT:[f.HTML5,f.FLASH,f.IFRAME]};d.MIME_TYPE={ALL:"*/*",IMAGE:"image/*",JPG:"image/jpeg",JPEG:"image/jpeg",PNG:"image/png",GIF:"image/gif",PDF:"application/pdf",DOC:"application/msword",DOCX:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",XLS:"application/vnd.ms-excel",XLSX:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
PPT:"application/vnd.ms-powerpoint",PPTX:"application/vnd.openxmlformats-officedocument.presentationml.presentation",TXT:"text/plain",UNKNOWN:"application/octet-stream"};d.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130,CHAIN_ERROR:-140};d.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,
UPLOAD_STOPPED:-290,RESIZE:-300,TIMEOUT:-310};d.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5,NEW:-6};d.UPLOAD_TYPE={SINGLE:1,MULTI:2};d.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120,JAVASCRIPT:-130,NONE:-130};d.CURSOR={POINTER:-2,DEFAULT:-1};d.CSS={WRAP:"FOCUS_UPLOAD_wrap",SELECTOR:"FOCUS_UPLOAD_selector",FLASH:"FOCUS_UPLOAD_flashWrap",TEXT:"FOCUS_UPLOAD_text",DISABLED:"FOCUS_UPLOAD_wrap_disabled",HOVER:"FOCUS_UPLOAD_wrap_hover"};d.CHARSET={UTF8:"UTF-8",
GBK:"GBK",GB2312:"GB2312",BIG5:"BIG5",DEFAULT:"UTF-8"};d.TURNING={ON:!0,OFF:!1};var a=function(a,b){b=b||{};var g=a.split(/\./);b.suffix=1<g.length?g.pop():"";b.name=g.join(".");return b};d.File=function(c){var b={data:c};b.id="FOCUS_UPLOAD_"+(k.random(0,1E6)+~~((new Date).valueOf()/1E7)).toString(16).toUpperCase();if(c.tagName&&"input"===c.tagName.toLowerCase()&&"file"===c.type){if(c=/[^\/\\]+$/.exec(c.value))b.fullname=c[0],a(b.fullname,b)}else b.size=c.filesize||c.size||0,b.type=c.type||"",b.fullname=
c.filename||c.name||"",a(b.fullname,b);b.type=b.suffix?b.suffix.toUpperCase()in d.MIME_TYPE?d.MIME_TYPE[b.suffix.toUpperCase()]:"":"";b.status=d.FILE_STATUS.NEW;return b};d.File4Flash=function(a){this.data=a;this.id=a.id;this.size=a.size;this.status=a.filestatus;this.suffix=a.type.replace(/^\./,"");this.type=d.MIME_TYPE[this.suffix.toUpperCase()];this.fullname=a.name;a=this.fullname.split(/\./);1<a.length&&a.pop();this.name=a.join(".")}}.call(FOCUS,this,this.document);
void function(f,l){FOCUS.namespace("FOCUS.widget");var n=function(){},d=this.util,k=this.widget,a=k.Upload,c=a.CSS,b=a.MODE,g=a.UPLOAD_ERROR,e=a.FILE_STATUS;k.UploadBase=function(){};k.UploadBase.prototype={init:n,set:function(a){this.cfg=d.extend(!0,this.cfg,a)},debug:function(a){d.log.turn(!!a)},startUpload:n,getFile:n,cancelUpload:function(a){var b=this.getQueueFile();if(b){b.status=e.CANCELLED;if("function"===d.type(a))this.one("uploadError",a);this.cfg.events.uploadError.call(this,b,g.FILE_CANCELLED,
"file cancelled.");this.elems.poster&&this.elems.poster.abort()}},stopUpload:function(a){var b=this.getQueueFile();if(b){b.status=e.QUEUED;if("function"===d.type(a))this.one("uploadError",a);this.cfg.events.uploadError.call(this,b,g.UPLOAD_STOPPED,"upload stopped.");this.elems.poster&&this.elems.poster.abort();this._.queue.unshift(b)}},getQueueFile:function(a){a=a||0;var b=d.type(a),c=this._.queue,g=null;if("number"===b)a<=c.length-1&&(g=c[a]);else if("string"===b)for(b=0;b<c.length;b++)if(c[b].id===
a){g=c[b];break}return g},setPostParam:function(a){this.cfg.postParams||(this.cfg.postParams={});d.extend(!0,this.cfg.postParams,a)},addPostParam:function(a,b){this.cfg.postParams||(this.cfg.postParams={});this.cfg.postParams[a]=b},removePostParam:function(a){!this.cfg.postParams||!a?this.cfg.postParams={}:a in this.cfg.postParams&&delete this.cfg.postParams[a]},setUploadURL:function(a){this.cfg.uploadURL=a+""},setFilePostName:function(a){this.cfg.filePostName=a+""},setFileTypes:function(a){switch(this.mode){case b.IFRAME:case b.HTML5:this.cfg.fileTypes=
this.elems.selector.accept=d.convert2MimeTypes(a)}},setFileSizeLimit:function(a){this.cfg.sizeLimit=a},setFileQueueLimit:function(a){this.cfg.queueLimit=a;this.elems.selector.multiple=1!==a},__setStyle:function(a,b,g,e){b.className=c.WRAP;d.browser.firefox&&(g.size=6);g.className=c.SELECTOR;a=b.getElementsByTagName("label");a.length&&b.removeChild(a[0]);a=l.createElement("label");a.className=c.TEXT;a.innerHTML=e;b.insertBefore(a,g);d.event.bind(b,"mouseover",function(a){a.cancelBubble=!0;a.returnValue=
!1;d.addClass(b,c.HOVER)});d.event.bind(b,"mouseout",function(a){a.cancelBubble=!0;a.returnValue=!1;d.removeClass(b,c.HOVER)})},__translateStatus:function(b){var c=d.type(b);"string"===c?(b=d.trim(b),b=b.length?!!a.TURNING[b.toUpperCase()]:a.TURNING.OFF):b="undefined"===c?!this._.status:!!b;return b},turn:function(a){a=this.__translateStatus(a);a!==this._.status&&(this.elems.selector.disabled=!a,this._.status=a,d[a?"removeClass":"addClass"](this.elems.holder,c.DISABLED))},multiple:function(a){this.elems.selector.multiple=
!!a},queue:function(){},dequeue:function(a){if(this.mode===b.IFRAME||this.mode===b.HTML5)switch(d.type(a)){case "string":for(var c=0;c<this._.queue.length;c++)if(this._.queue[c].id===a){a=c;break}case "number":this._.queue.splice(a,1);break;case "boolean":a?this._.queue.splice(0):this._.queue.splice(0,1)}else if(this.mode===b.FLASH)switch(d.type(a)){case "string":case "number":this.instance.cancelUpload(a,!1);break;case "undefined":a=!1;case "boolean":if(a)for(;a=this.instance.getQueueFile();)this.instance.cancelUpload(a.file_id,
!1);else this.instance.cancelUpload(0,!1)}}}}.call(FOCUS,this,this.document);
void function(f,l){var n=this.namespace("FOCUS.widget.Upload.plugins"),d=this.util,k=this.widget.Upload.UPLOAD_ERROR,a=function(a,c){this.type=a;this.listeners=[];this._={thisObj:c}};a.prototype={__search:function(a,c){for(var e=-1,d=c||0;d<this.listeners.length;d++)if(this.listeners[d].handle===a){e=d;break}return e},add:function(a,c){var e=a.handles,h=a.thisObj||null,f=a.once||!1;c=[].slice.call(arguments,1);"function"===d.type(e)&&(e=[e]);if("array"===d.type(e))for(var k=0;k<e.length;k++)"function"===
d.type(e[k])&&this.listeners.push({handle:e[k],thisObj:h,once:!!f,args:c})},one:function(a,c){"object"===d.type(a)&&(a.once=!0,this.add(a,[].slice.call(arguments,1)))},remove:function(a){if(a){"function"===d.type(a)&&(a=[a]);for(var c,e=0;e<a.length;e++)"function"===d.type(a[e])&&-1!==(c=this.__search(a[e]))&&this.listeners.splice(c,1)}else this.listeners=[]},exec:function(a){for(var c,e=[],d=0;d<this.listeners.length;d++)c=this.listeners[d],c.once&&e.push(c.handle),c.handle.apply(c.thisObj||this._.thisObj||
this,[].concat.call(c.args,[].slice.call(arguments)));this.remove(e)},bindThisObj:function(a){this._.thisObj=a}};var c=function(a,c){this._={events:{},thisObj:c};this.events={};for(var e in a)this.on(e,a[e]),this.events[e]=function(a){var b=this;return"uploadError"===a?function(c,g,e){switch(g){case k.FILE_CANCELLED:b.fire.apply(b,["cancel",c,k.FILE_CANCELLED,"file cancelled."]);break;case k.UPLOAD_STOPPED:b.fire.apply(b,["stop",c,k.UPLOAD_STOPPED,"upload stopped."]);break;default:b.fire.apply(b,
[a].concat([].slice.call(arguments)))}}:function(){b.fire.apply(b,[a].concat([].slice.call(arguments)))}}.call(this,e)};c.prototype={__initEvent:function(b,c,e){b in this._.events||(this._.events[b]=new a(b,this._.thisObj));return{handles:c,thisObj:e}},on:function(a,c,e,d){var f=this.__initEvent(a,c,e);this._.events[a].add.apply(this._.events[a],[f].concat([].slice.call(arguments,3)))},off:function(a,c){a in this._.events&&this._.events[a].remove(c)},one:function(a,c,e,d){var f=this.__initEvent(a,
c,e);this._.events[a].one.apply(this._.events[a],[f].concat([].slice.call(arguments,3)))},fire:function(a,c){a in this._.events&&this._.events[a].exec.apply(this._.events[a],[].slice.call(arguments,1))},bindThisObj:function(a){this._.thisObj=a;for(var c in this._.events)this._.events[c].bindThisObj(a)}};n.UploadEvents=c}.call(FOCUS,window,window.document);
void function(){this.namespace("FOCUS.widget.Upload.plugins").AutoDisabled=function(f){this.on("uploadStart",function(){this.turn("off")}).on("uploadComplete",function(){this.turn("on")})}}.call(FOCUS);void function(){var f=this.util;this.widget.Upload.plugins.Ready=function(l){var n=!1,d=this,k=[],a=function(){for(;k.length;)k.shift().call(d,l)};this.on("ready",function(){this.isReady=n=!0;a()});this.ready=function(c){"function"===f.type(c)&&k.push(c);n&&a()}}}.call(FOCUS);
void function(f,l,n){f=this.namespace("FOCUS.widget.io.iframe");var d=this.util,k=d.createElement;l=function(){this.elems={}};l.prototype={_:{text:function(a,c){return k({el:"textarea",name:a,value:c+""})},radio:function(a,c,b){return k({el:"input",type:"radio",name:a,value:c,checked:!!b})},checkbox:function(a,c,b){return k({el:"input",type:"checkbox",name:a,value:c,checked:!!b})},file:function(a,c){if(a)return c&&c.name&&(a.name=c.name),a;var b={el:"input",type:"file"};d.extend(!0,b,c);return k(b)},
clone:function(a){return a.cloneNode(!0)}},append:function(a,c){var b=d.type(c),g;"string"!==b&&"file"===c.type?g=this._.file(c,{name:a}):"string"===b&&(g=this._.text(a,c+""));this.elems[a]=g}};f.IO_FormData=l}.call(FOCUS,window,document);
void function(f,l,n){n=this.namespace("FOCUS.widget.io.iframe");var d=function(){},k=this.util,a=k.createElement,c=function(a){this.cfg={events:{load:d,error:d},timeout:1E5,charset:"UTF-8"};k.extend(!0,this.cfg,a);this.elems={};this._={};this.init()};c.prototype={init:function(){var b=this;this.elems.io=a({el:"iframe",name:"FOCUS_UPLOAD_IO_"+k.random(0,1E3),src:k.browser.msie?"javascript:document.open();"+(l.domain===f.location.hostname?"":"document.domain='"+l.domain+"';")+"void(0)":"about:blank"});
this.elems.io.style.cssText="position:absolute; width:1px; height:1px; top: -9999px; left:-9999px;";l.body.appendChild(b.elems.io);setTimeout(function(){b.elems.win=b.elems.io.contentWindow;b.elems.doc=b.elems.io.contentWindow.document},25);this._.timer=-1;this._.handle={load:function(){if(b._.submited){clearTimeout(b._.timer);var a=b._.handle.getData(b.elems.io);"undefined"===k.type(a)?b.cfg.events.error.call(this,"IO_ERROR"):b.cfg.events.load.call(this,a);b._.submited=!1;setTimeout(function(){b._deleteForm()},
25)}},error:function(){b.cfg.events.error.call(this);b._.submited=!1},getData:function(a){var b;try{b=a.contentWindow.document.body.innerHTML.replace(/(^|)\<\/?pre[^\>]*\>(|$)/gi,"")}catch(c){}return b}};this.elems.io.attachEvent?this.elems.io.attachEvent("onload",this._.handle.load):this.elems.io.onload=this._.handle.load},open:function(a,c){this._.openCfg={method:"GET"===a.toUpperCase()?"GET":"POST",action:c}},send:function(b,c){var d=this;setTimeout(function(){var h={el:"form",name:"FOCUS_UPLOAD_FORM_"+
k.random(0,1E3),method:d._.openCfg.method,action:d._.openCfg.action||""};h.target=d.elems.io.name;var f=[],s=!1,q,u;for(u in b.elems)q=b.elems[u],"file"===q.type&&(s=!0),f.push(q);h.enctype=s?"multipart/form-data":"application/x-www-form-urlencoded";d._deleteForm();var w=d.elems.__submit_form=a(h);w.style.cssText="position:absolute; width:1px; height:1px; top: -9999px; left:-9999px;";for(l.body.appendChild(w);f.length;)w.appendChild(f.shift());c=c||d.cfg.charset||"UTF-8";var n;k.browser.msie&&(n=
l.charset);k.browser.msie?l.charset=c:w.acceptCharset=c;setTimeout(function(){d._.submited=!0;w.submit();setTimeout(function(){k.browser.msie&&(l.charset=n)},1)},25)},100)},onload:function(a){this.cfg.events.load=a},onerror:function(a){this.cfg.events.error=a},overrideGetData:function(a){this._.handle.getData=a},setUrl:function(a){this.elems.__submit_form.action=a},_deleteForm:function(){try{this.elems.__submit_form&&this.elems.__submit_form.parentNode.removeChild(this.elems.__submit_form)}catch(a){}delete this.elems.__submit_form},
_deleteIO:function(){try{this.elems.io&&(this.__removeOnloadEvent(),this.elems.io.parentNode.removeChild(this.elems.io))}catch(a){}delete this.elems.doc;delete this.elems.win;delete this.elems.io},dispose:function(){this._deleteForm();this._deleteIO()},__removeOnloadEvent:function(){this.elems.io&&(this.elems.io.detachEvent?this.elems.io.detachEvent("onload",this._.handle.load):this.elems.io.onload=d)}};n.IO_Iframe=c}.call(FOCUS,window,document);
void function(f,l,n){f=this.namespace("FOCUS.widget.io.iframe");var d=f.IO_FormData,k=f.IO_Iframe,a=this.util,c=function(){};l=function(a){this.cfg={events:{error:c,load:c,progress:c,abort:c},progressURL:"",charset:"UTF-8",timeout:1E5};this._={cancel:!1,timeout:!1,loaded:!1,timeoutTimer:-1};this.elems={};this.set(a);this.init()};l.prototype={init:function(){var b=this;this._.getProgress=function(){var c=arguments.callee;if(b.cfg.progressURL&&!b._.loaded){b.elems.io_progress=new k;b.elems.io_progress.onload(function(d){setTimeout(function(){b.elems.io_progress.dispose()},
25);b._.loaded||(d=a.JSON.parse(d),b.cfg.events.progress.call(d),setTimeout(function(){c()},100))});b.elems.io_progress.open("GET",b.cfg.progressURL,!0);var e=new d;e.append("progress","loaded");b.elems.io_progress.send(e)}}},send:function(a){if(!this._.cancel){var c=this;this._.timeoutTimer=setTimeout(function(){c.timeout()},this.cfg.timeout);this.elems.io.send(a,this.cfg.charset);setTimeout(function(){c._.cancel||c.cfg.events.progress.call(c,{loaded:0,total:100})},1);this._.getProgress()}},open:function(a,
c){this._.fullProgress=!1;this.reset();this.elems.io.open(a,c)},set:function(b){a.extend(!0,this.cfg,b)},reset:function(){var a=this;this.elems.io&&this.elems.io.dispose();this.elems.io_progress&&this.elems.io_progress.dispose();this.elems.io=new k({timeout:this.cfg.timeout});this.elems.io.onload(function(c){a._.timeout||(a._.fullProgress||(a.cfg.events.progress.call(a,{loaded:100,total:100}),a._.fullProgress=!0),clearTimeout(a._.timeoutTimer),a._.cancel||(a._.loaded=!0,a.cfg.events.load.call(a,c,
this)))});this.elems.io.onerror(function(c){clearTimeout(a._.timeoutTimer);a._.cancel||a.cfg.events.error.call(a,this,c)});this._.cancel=!1;this._.timeout=!1;this._.loaded=!1;this._.timeoutTimer=-1},dispose:function(){this.elems.io&&(this.elems.io.dispose(),delete this.elems.io);this.elems.io_progress&&(this.elems.io_progress.dispose(),delete this.elems.io_progress)},timeout:function(){this._.timeout=!0;this.elems.io.__removeOnloadEvent();this.cfg.events.error.call(this,this,"timeout")},abort:function(){this._.cancel=
!0;clearTimeout(this._.timeoutTimer);this.elems.io&&this.elems.io.__removeOnloadEvent();this.cfg.events.abort()}};f.Poster=l}.call(FOCUS,window,document);
void function(f,l,n){var d=function(){},k=this.util,a=this.widget,c=a.Upload,b=c.MODE,g=c.UPLOAD_ERROR,e=c.FILE_STATUS,h=c.QUEUE_ERROR,r=k.createElement,s=a.io.iframe,q=s.Poster,u=s.IO_FormData;a.Upload_Iframe=function(a){this.constructor=arguments.callee;this.mode=b.IFRAME;this.elems={};this.cfg={events:{ready:d,loadFailed:d,dialogStart:d,dialogComplete:d,queued:d,queueError:d,uploadStart:d,uploadProgress:d,uploadSuccess:d,uploadError:d,uploadComplete:d},button:{text:"Upload"},multiple:!0,sizeLimit:-1,
queueLimit:-1,fileTypes:c.MIME_TYPE.ALL,fileTypesDescription:"All Files",uploadURL:"",filePostName:"",placeholder:"#uploader",charset:c.CHARSET.DEFAULT,debug:!1,timeout:1E5};this._={queue:[],uploadingFile:null,uploadedFile:[],status:c.TURNING.ON};this.set(a);this.init()};a.Upload_Iframe.prototype=new FOCUS.widget.UploadBase;k.extend(!0,a.Upload_Iframe.prototype,{init:function(){var a=this;this.elems.holder=r({el:"div"});this.elems.holder.style.cssText="";var b={missing_url:[g.MISSING_UPLOAD_URL,"missing upload URL."],
invalid_filetype:[h.INVALID_FILETYPE,"File is not an allowed file type."],size_limit:[h.FILE_EXCEEDS_SIZE_LIMIT,"File size exceeds allowed limit."],chain_error:[h.CHAIN_ERROR,"Some reason to occured chain error."]};k.extend(this._,{open:function(b){var c=new u;if("object"===k.type(a.cfg.postParams))for(var d in a.cfg.postParams)c.append(d,a.cfg.postParams[d]);c.append(a.cfg.filePostName||b.id,b.data);a.elems.poster.open("POST",a.cfg.uploadURL,!0);return c},post:function(b){a.elems.poster.send(b)},
start:function(c){if(c=a.getQueueFile())!a.cfg.uploadURL||"string"!==k.type(a.cfg.uploadURL)?(a.cfg.events.uploadError.apply(a,[c].concat(b.missing_url)),a.stopUpload()):(c.status=e.IN_PROGRESS,a._.uploadingFile=c,a.cfg.events.uploadStart.call(a,c),c=a._.open(c),a._.post(c))},dialogStart:function(b){b=b||f.event;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0;a.cfg.events.dialogStart.call(a)},__queued:function(d,g){var f=[],q=[],l=a._.queue,p=new c.File(this);if(this.files&&(!k.browser.firefox||
k.browser.firefox&&3.6<=k.browser.version)){var u=[],r=!1,s;if(-1!==a.cfg.queueLimit&&this.files.length+a._.queue.length>a.cfg.queueLimit){for(var n=0,v=this.files.length;n<v;n++)s=new c.File(this.files[n]),f.push(s),a.cfg.events.queueError.call(a,s,h.QUEUE_LIMIT_EXCEEDED,a.cfg.queueLimit);r=!0}else for(var A=k.sizeConvert.unit2Bytes(a.cfg.sizeLimit),n=0,v=this.files.length;n<v;n++){s=new c.File(this.files[n]);f.push(s);var y;if(k.mimeValidation(a.cfg.fileTypes,s.type)){if(-1!==A&&(s.fileSize||s.size)>
A)y=b.size_limit}else y=b.invalid_filetype;y?(a.cfg.events.queueError.apply(a,[s].concat(y)),r=!0):u.push(s)}if(r){n=0;for(v=u.length;n<v;n++)u[n].id=p.id,a.cfg.events.queueError.apply(a,[u[n]].concat(b.chain_error))}else{n=0;for(v=u.length;n<v;n++)u[n].status=e.QUEUED,u[n].id=p.id,a.cfg.events.queued.call(a,u[n]);q=q.concat(u);l.push(p)}delete u}else f.push(p),FOCUS.util.mimeValidation(a.cfg.fileTypes,p.type)?(q.push(p),l.push(p),p.status=e.QUEUED,a.cfg.events.queued.call(a,p)):a.cfg.events.queueError.apply(a,
[p].concat(b.invalid_filetype));d&&(a.elems.selector.parentNode.removeChild(a.elems.selector),a.elems.selector=a._._crateSelector(a.elems.holder,a._.dialogStart,a._.dialogComplete));"function"===FOCUS.util.type(g)&&g.call(a,f.length,q.length,l.length);delete f;delete q;delete l},dialogComplete:function(b){b=b||f.event;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0;a._.__queued.call(this,!0,a.cfg.events.dialogComplete)},uploadProgress:function(b){var c=a.getQueueFile();c&&(c.status=e.IN_PROGRESS,
b.loaded===b.total&&(c.fullProgress=!0),a.cfg.events.uploadProgress.call(a,c,b.loaded,b.total))},uploadSuccess:function(b,c){var d=a.elems.poster,e=a.getQueueFile();e&&a.cfg.events.uploadSuccess.call(a,e,b,d)},uploadError:function(b,c){c=(c||"").toUpperCase();var d=a.getQueueFile();d&&(d.status=e.ERROR,a.cfg.events.uploadError.call(a,d,g[c?c:"UPLOAD_FAILED"],c?c:"TIMEOUT"),a._.uploadComplete(!0))},uploadComplete:function(b,c){var d=a.getQueueFile();d&&(!b&&(!d.fullProgress&&!c)&&(a._.uploadProgress.call(a,
{loaded:d.size,total:d.size}),d.fullProgress=!0),c||(d.status=e.COMPLETE),a._.queue.shift(),a._.uploadingFile=null,a.cfg.events.uploadComplete.call(a,d))},complete:function(b,c){a._.uploadSuccess.call(a,b,c);a._.uploadComplete.call(a);setTimeout(function(){a.elems.poster&&(a.elems.poster.dispose(),delete a.elems.poster)},25)},abort:function(){setTimeout(function(){a._.uploadComplete(!1,!0)},1)},_crateSelector:function(b,c,d){var e=r({el:"input",type:"file",name:"FOCUS_FILE_"+k.random(0,100),multiple:!!a.cfg.multiple});
b.appendChild(e);k.event.bind(e,"click",c);k.event.bind(e,"change",d);a.__setStyle("iframe",a.elems.holder,e,a.cfg.button.text);return e}});var d=k.query?k.query(this.cfg.placeholder):l.getElementById(this.cfg.placeholder.replace(/^#/,""));d&&("length"in d&&(d=d[0]),d&&(d.parentNode.insertBefore(this.elems.holder,d),a.elems.selector=this._._crateSelector(this.elems.holder,this._.dialogStart,this._.dialogComplete),d.parentNode.removeChild(d)))},startUpload:function(){this.elems.poster&&this.elems.poster.dispose();
this.elems.poster=new q({events:{abort:this._.abort,load:this._.complete,error:this._.uploadError,progress:this._.uploadProgress},progressURL:this.cfg.progressURL,charset:this.cfg.charset,timeout:this.cfg.timeout||1E5});this._.start()},queue:function(a,b){if(a){a.length===n&&(a=[a]);for(var c=0;c<a.length;c++)this._.__queued.call(a[c],!1,b)}}})}.call(FOCUS,this,this.document);var SWFUpload,swfobject;void 0==SWFUpload&&(SWFUpload=function(f){this.initSWFUpload(f)});
void function(f){var l=window.encodeURIComponent,n=this.widget.Upload,d=this.util,k=f.prototype;k.initSWFUpload=function(a){try{this.customSettings={},this.settings={},this.eventQueue=[],this.movieName="SWFUpload_"+f.movieCount++,this.movieElement=null,f.instances[this.movieName]=this,this.initSettings(a),this.loadSupport(),this.swfuploadPreload()&&this.loadFlash(),this.displayDebugInfo()}catch(c){throw delete f.instances[this.movieName],c;}};f.instances={};f.movieCount=0;f.version="2.5.0 2010-01-15 Beta 2";
f.QUEUE_ERROR=n.QUEUE_ERROR;f.UPLOAD_ERROR=n.UPLOAD_ERROR;f.FILE_STATUS=n.FILE_STATUS;f.BUTTON_ACTION=n.BUTTON_ACTION;f.UPLOAD_TYPE={NORMAL:-1,RESIZED:-2};f.CURSOR={ARROW:-1,HAND:-2};f.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};f.RESIZE_ENCODING={JPEG:-1,PNG:-2};f.completeURL=function(a){try{var c="",b=-1;if("string"!==typeof a||a.match(/^https?:\/\//i)||a.match(/^\//)||""===a)return a;b=window.location.pathname.lastIndexOf("/");c=0>=b?"/":window.location.pathname.substr(0,
b)+"/";return c+a}catch(d){return a}};f.onload=function(){};d.extend(!0,k,{initSettings:function(a){var c=this.settings;this.ensureDefault=function(b,d){var f=a[b];c[b]=void 0!=f?f:d};var b=function(a){for(var b in a)this.ensureDefault(b,a[b])};b.call(this,{upload_url:"",preserve_relative_urls:!1,file_post_name:"Filedata",post_params:{},use_query_string:!1,requeue_on_error:!1,http_success:[],assume_success_timeout:0,file_types:"*.*",file_types_description:"All Files",file_size_limit:0,file_upload_limit:0,
file_queue_limit:0,flash_url:"swfupload.swf",flash9_url:"swfupload_fp9.swf",prevent_swf_caching:!0,button_image_url:"",button_width:1,button_height:1,button_text:"",button_text_style:"color: #000000; font-size: 16pt;",button_text_top_padding:0,button_text_left_padding:0,button_action:f.BUTTON_ACTION.SELECT_FILES,button_disabled:!1,button_placeholder_id:"",button_placeholder:null,button_cursor:f.CURSOR.ARROW,button_window_mode:f.WINDOW_MODE.WINDOW});b.call(this,{debug:!1});c.debug_enabled=c.debug;
c.return_upload_start_handler=this.returnUploadStart;b.call(this,{swfupload_preload_handler:null,swfupload_load_failed_handler:null,swfupload_loaded_handler:null,file_dialog_start_handler:null,file_queued_handler:null,file_queue_error_handler:null,file_dialog_complete_handler:null,upload_resize_start_handler:null,upload_start_handler:null,upload_progress_handler:null,upload_error_handler:null,upload_success_handler:null,upload_complete_handler:null,mouse_click_handler:null,mouse_out_handler:null,
mouse_over_handler:null,debug_handler:this.debugMessage,custom_settings:{}});this.customSettings=c.custom_settings;c.prevent_swf_caching&&(c.flash_url=c.flash_url+(0>c.flash_url.indexOf("?")?"?":"&")+"preventswfcaching="+(new Date).getTime(),c.flash9_url=c.flash9_url+(0>c.flash9_url.indexOf("?")?"?":"&")+"preventswfcaching="+(new Date).getTime());c.preserve_relative_urls||(c.upload_url=f.completeURL(c.upload_url),c.button_image_url=f.completeURL(c.button_image_url));delete this.ensureDefault},loadSupport:function(){this.support=
{loading:swfobject.hasFlashPlayerVersion("9.0.28"),imageResize:swfobject.hasFlashPlayerVersion("10.0.0")}},loadFlash:function(){var a,c,b;if(this.support.loading)if(null!==document.getElementById(this.movieName))this.support.loading=!1,this.queueEvent("swfupload_load_failed_handler",["Element ID already in use"]);else if(a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==a)this.support.loading=!1,this.queueEvent("swfupload_load_failed_handler",
["button place holder not found"]);else{c="block"!==(a.currentStyle&&a.currentStyle.display||window.getComputedStyle&&document.defaultView.getComputedStyle(a,null).getPropertyValue("display"))?"span":"div";c=document.createElement(c);b=this.getFlashHTML();try{c.innerHTML=b}catch(d){this.support.loading=!1;this.queueEvent("swfupload_load_failed_handler",["Exception loading Flash HTML into placeholder"]);return}b=c.getElementsByTagName("object");!b||1<b.length||0===b.length?(this.support.loading=!1,
this.queueEvent("swfupload_load_failed_handler",["Unable to find movie after adding to DOM"])):(1===b.length&&(this.movieElement=b[0]),a.parentNode.replaceChild(c.firstChild,a),void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement()))}else this.queueEvent("swfupload_load_failed_handler",["Flash Player doesn't support SWFUpload"])},getFlashHTML:function(a){a=this.settings;return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.support.imageResize?
a.flash_url:a.flash9_url,'" width="',a.button_width,'" height="',a.button_height,'" class="swfupload"><param name="wmode" value="',a.button_window_mode,'" /><param name="movie" value="',this.support.imageResize?a.flash_url:a.flash9_url,'" /><param name="quality" value="high" /><param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},getFlashVars:function(){var a,c;c=this.buildParamString();a=this.settings.http_success.join(",");
var b=this.settings;return["movieName=",l(this.movieName),"&amp;uploadURL=",l(b.upload_url),"&amp;useQueryString=",l(b.use_query_string),"&amp;requeueOnError=",l(b.requeue_on_error),"&amp;httpSuccess=",l(a),"&amp;assumeSuccessTimeout=",l(b.assume_success_timeout),"&amp;params=",l(c),"&amp;filePostName=",l(b.file_post_name),"&amp;fileTypes=",l(b.file_types),"&amp;fileTypesDescription=",l(b.file_types_description),"&amp;fileSizeLimit=",l(b.file_size_limit),"&amp;fileUploadLimit=",l(b.file_upload_limit),
"&amp;fileQueueLimit=",l(b.file_queue_limit),"&amp;debugEnabled=",l(b.debug_enabled),"&amp;buttonImageURL=",l(b.button_image_url),"&amp;buttonWidth=",l(b.button_width),"&amp;buttonHeight=",l(b.button_height),"&amp;buttonText=",l(b.button_text),"&amp;buttonTextTopPadding=",l(b.button_text_top_padding),"&amp;buttonTextLeftPadding=",l(b.button_text_left_padding),"&amp;buttonTextStyle=",l(b.button_text_style),"&amp;buttonAction=",l(b.button_action),"&amp;buttonDisabled=",l(b.button_disabled),"&amp;buttonCursor=",
l(b.button_cursor)].join("")},getMovieElement:function(){void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName));if(null===this.movieElement)throw"Could not find Flash element";return this.movieElement},buildParamString:function(){var a,c,b=[];c=this.settings.post_params;if("object"===typeof c)for(a in c)c.hasOwnProperty(a)&&b.push(l(a.toString())+"="+l(c[a].toString()));return b.join("&amp;")},destroy:function(){var a;try{this.cancelUpload(null,!1);if(a=this.cleanUp())try{a.parentNode.removeChild(a)}catch(c){}window[this.movieName]=
null;f.instances[this.movieName]=null;delete f.instances[this.movieName];this.movieName=this.eventQueue=this.customSettings=this.settings=this.movieElement=null;return!0}catch(b){return!1}},displayDebugInfo:function(){var a=this.settings;this.debug(["---SWFUpload Instance Info---\nVersion: ",f.version,"\nMovie Name: ",this.movieName,"\nSettings:\n\tupload_url:               ",a.upload_url,"\n\tflash_url:                ",a.flash_url,"\n\tflash9_url:                ",a.flash9_url,"\n\tuse_query_string:         ",
a.use_query_string.toString(),"\n\trequeue_on_error:         ",a.requeue_on_error.toString(),"\n\thttp_success:             ",a.http_success.join(", "),"\n\tassume_success_timeout:   ",a.assume_success_timeout,"\n\tfile_post_name:           ",a.file_post_name,"\n\tpost_params:              ",a.post_params.toString(),"\n\tfile_types:               ",a.file_types,"\n\tfile_types_description:   ",a.file_types_description,"\n\tfile_size_limit:          ",a.file_size_limit,"\n\tfile_upload_limit:        ",
a.file_upload_limit,"\n\tfile_queue_limit:         ",a.file_queue_limit,"\n\tdebug:                    ",a.debug.toString(),"\n\tprevent_swf_caching:      ",a.prevent_swf_caching.toString(),"\n\tbutton_placeholder_id:    ",a.button_placeholder_id.toString(),"\n\tbutton_placeholder:       ",a.button_placeholder?"Set":"Not Set","\n\tbutton_image_url:         ",a.button_image_url.toString(),"\n\tbutton_width:             ",a.button_width.toString(),"\n\tbutton_height:            ",a.button_height.toString(),
"\n\tbutton_text:              ",a.button_text.toString(),"\n\tbutton_text_style:        ",a.button_text_style.toString(),"\n\tbutton_text_top_padding:  ",a.button_text_top_padding.toString(),"\n\tbutton_text_left_padding: ",a.button_text_left_padding.toString(),"\n\tbutton_action:            ",a.button_action.toString(),"\n\tbutton_cursor:            ",a.button_cursor.toString(),"\n\tbutton_disabled:          ",a.button_disabled.toString(),"\n\tcustom_settings:          ",a.custom_settings.toString(),
"\nEvent Handlers:\n\tswfupload_preload_handler assigned:  ",("function"===typeof a.swfupload_preload_handler).toString(),"\n\tswfupload_load_failed_handler assigned:  ",("function"===typeof a.swfupload_load_failed_handler).toString(),"\n\tswfupload_loaded_handler assigned:  ",("function"===typeof a.swfupload_loaded_handler).toString(),"\n\tmouse_click_handler assigned:       ",("function"===typeof a.mouse_click_handler).toString(),"\n\tmouse_over_handler assigned:        ",("function"===typeof a.mouse_over_handler).toString(),
"\n\tmouse_out_handler assigned:         ",("function"===typeof a.mouse_out_handler).toString(),"\n\tfile_dialog_start_handler assigned: ",("function"===typeof a.file_dialog_start_handler).toString(),"\n\tfile_queued_handler assigned:       ",("function"===typeof a.file_queued_handler).toString(),"\n\tfile_queue_error_handler assigned:  ",("function"===typeof a.file_queue_error_handler).toString(),"\n\tupload_resize_start_handler assigned:      ",("function"===typeof a.upload_resize_start_handler).toString(),
"\n\tupload_start_handler assigned:      ",("function"===typeof a.upload_start_handler).toString(),"\n\tupload_progress_handler assigned:   ",("function"===typeof a.upload_progress_handler).toString(),"\n\tupload_error_handler assigned:      ",("function"===typeof a.upload_error_handler).toString(),"\n\tupload_success_handler assigned:    ",("function"===typeof a.upload_success_handler).toString(),"\n\tupload_complete_handler assigned:   ",("function"===typeof a.upload_complete_handler).toString(),
"\n\tdebug_handler assigned:             ",("function"===typeof a.debug_handler).toString(),"\nSupport:\n\tLoad:                     ",this.support.loading?"Yes":"No","\n\tImage Resize:             ",this.support.imageResize?"Yes":"No","\n"].join(""))},addSetting:function(a,c,b){return void 0==c?this.settings[a]=b:this.settings[a]=c},getSetting:function(a){return void 0!=this.settings[a]?this.settings[a]:""},callFlash:function(a,c){var b,d,e;c=c||[];b=this.getMovieElement();try{void 0!=b?(e=b.CallFunction('<invoke name="'+
a+'" returntype="javascript">'+__flash__argumentsToXML(c,0)+"</invoke>"),d=eval(e)):this.debug("Can't call flash because the movie wasn't found.")}catch(f){this.debug("Exception calling flash function '"+a+"': "+f.message)}void 0!=d&&"object"===typeof d.post&&(d=this.unescapeFilePostParams(d));return d},selectFile:function(){this.callFlash("SelectFile")},selectFiles:function(){this.callFlash("SelectFiles")},startUpload:function(a){this.callFlash("StartUpload",[a])},startResizedUpload:function(a,c,
b,d,e,f){this.callFlash("StartUpload",[a,{width:c,height:b,encoding:d,quality:e,allowEnlarging:f}])},cancelUpload:function(a,c){!1!==c&&(c=!0);this.callFlash("CancelUpload",[a,c])},stopUpload:function(){this.callFlash("StopUpload")},requeueUpload:function(a){return this.callFlash("RequeueUpload",[a])},getStats:function(){return this.callFlash("GetStats")},setStats:function(a){this.callFlash("SetStats",[a])},getFile:function(a){return"number"===typeof a?this.callFlash("GetFileByIndex",[a]):this.callFlash("GetFile",
[a])},getQueueFile:function(a){return"number"===typeof a?this.callFlash("GetFileByQueueIndex",[a]):this.callFlash("GetFile",[a])},addFileParam:function(a,c,b){return this.callFlash("AddFileParam",[a,c,b])},removeFileParam:function(a,c){this.callFlash("RemoveFileParam",[a,c])},setUploadURL:function(a){this.settings.upload_url=a.toString();this.callFlash("SetUploadURL",[a])},setPostParams:function(a){this.settings.post_params=a;this.callFlash("SetPostParams",[a])},addPostParam:function(a,c){this.settings.post_params[a]=
c;this.callFlash("SetPostParams",[this.settings.post_params])},removePostParam:function(a){delete this.settings.post_params[a];this.callFlash("SetPostParams",[this.settings.post_params])},setFileTypes:function(a,c){this.settings.file_types=a;this.settings.file_types_description=c;this.callFlash("SetFileTypes",[a,c])},setFileSizeLimit:function(a){this.settings.file_size_limit=a;this.callFlash("SetFileSizeLimit",[a])},setFileUploadLimit:function(a){this.settings.file_upload_limit=a;this.callFlash("SetFileUploadLimit",
[a])},setFileQueueLimit:function(a){this.settings.file_queue_limit=a;this.callFlash("SetFileQueueLimit",[a])},setFilePostName:function(a){this.settings.file_post_name=a;this.callFlash("SetFilePostName",[a])},setUseQueryString:function(a){this.settings.use_query_string=a;this.callFlash("SetUseQueryString",[a])},setRequeueOnError:function(a){this.settings.requeue_on_error=a;this.callFlash("SetRequeueOnError",[a])},setHTTPSuccess:function(a){"string"===typeof a&&(a=a.replace(" ","").split(","));this.settings.http_success=
a;this.callFlash("SetHTTPSuccess",[a])},setAssumeSuccessTimeout:function(a){this.settings.assume_success_timeout=a;this.callFlash("SetAssumeSuccessTimeout",[a])},setDebugEnabled:function(a){this.settings.debug_enabled=a;this.callFlash("SetDebugEnabled",[a])},setButtonImageURL:function(a){void 0==a&&(a="");this.settings.button_image_url=a;this.callFlash("SetButtonImageURL",[a])},setButtonDimensions:function(a,c){this.settings.button_width=a;this.settings.button_height=c;var b=this.getMovieElement();
void 0!=b&&(b.style.width=a+"px",b.style.height=c+"px");this.callFlash("SetButtonDimensions",[a,c])},setButtonText:function(a){this.settings.button_text=a;this.callFlash("SetButtonText",[a])},setButtonTextPadding:function(a,c){this.settings.button_text_top_padding=c;this.settings.button_text_left_padding=a;this.callFlash("SetButtonTextPadding",[a,c])},setButtonTextStyle:function(a){this.settings.button_text_style=a;this.callFlash("SetButtonTextStyle",[a])},setButtonDisabled:function(a){this.settings.button_disabled=
a;this.callFlash("SetButtonDisabled",[a])},setButtonAction:function(a){this.settings.button_action=a;this.callFlash("SetButtonAction",[a])},setButtonCursor:function(a){this.settings.button_cursor=a;this.callFlash("SetButtonCursor",[a])},queueEvent:function(a,c){var b=this;void 0==c?c=[]:c instanceof Array||(c=[c]);if("function"===typeof this.settings[a])this.eventQueue.push(function(){this.settings[a].apply(this,c)}),setTimeout(function(){b.executeNextEvent()},0);else if(null!==this.settings[a])throw"Event handler "+
a+" is unknown or is not a function";},executeNextEvent:function(){var a=this.eventQueue?this.eventQueue.shift():null;"function"===typeof a&&a.apply(this)},unescapeFilePostParams:function(a){var c=/[$]([0-9a-f]{4})/i,b={},d,e,f;if(void 0!=a){for(e in a.post)if(a.post.hasOwnProperty(e)){for(d=e;null!==(f=c.exec(d));)d=d.replace(f[0],String.fromCharCode(parseInt("0x"+f[1],16)));b[d]=a.post[e]}a.post=b}return a},swfuploadPreload:function(){var a;if("function"===typeof this.settings.swfupload_preload_handler)a=
this.settings.swfupload_preload_handler.call(this);else if(void 0!=this.settings.swfupload_preload_handler)throw"upload_start_handler must be a function";void 0===a&&(a=!0);return!!a},flashReady:function(){this.cleanUp()?this.queueEvent("swfupload_loaded_handler"):this.debug("Flash called back ready but the flash movie can't be found.")},cleanUp:function(){var a,c=this.getMovieElement();try{if(c&&"unknown"===typeof c.CallFunction)for(a in this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)"),
c)try{"function"===typeof c[a]&&(c[a]=null)}catch(b){}}catch(d){}window.__flash__removeCallback=function(a,b){try{a&&(a[b]=null)}catch(c){}};return c},mouseClick:function(){this.queueEvent("mouse_click_handler")},mouseOver:function(){this.queueEvent("mouse_over_handler")},mouseOut:function(){this.queueEvent("mouse_out_handler")},fileDialogStart:function(){this.queueEvent("file_dialog_start_handler")},fileQueued:function(a){a=this.unescapeFilePostParams(a);this.queueEvent("file_queued_handler",a)},
fileQueueError:function(a,c,b){a=this.unescapeFilePostParams(a);this.queueEvent("file_queue_error_handler",[a,c,b])},fileDialogComplete:function(a,c,b){this.queueEvent("file_dialog_complete_handler",[a,c,b])},uploadResizeStart:function(a,c){a=this.unescapeFilePostParams(a);this.queueEvent("upload_resize_start_handler",[a,c.width,c.height,c.encoding,c.quality])},uploadStart:function(a){a=this.unescapeFilePostParams(a);this.queueEvent("return_upload_start_handler",a)},returnUploadStart:function(a){var c;
if("function"===typeof this.settings.upload_start_handler)a=this.unescapeFilePostParams(a),c=this.settings.upload_start_handler.call(this,a);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===c&&(c=!0);this.callFlash("ReturnUploadStart",[!!c])},uploadProgress:function(a,c,b){a=this.unescapeFilePostParams(a);this.queueEvent("upload_progress_handler",[a,c,b])},uploadError:function(a,c,b){a=this.unescapeFilePostParams(a);this.queueEvent("upload_error_handler",
[a,c,b])},uploadSuccess:function(a,c,b){a=this.unescapeFilePostParams(a);this.queueEvent("upload_success_handler",[a,c,b])},uploadComplete:function(a){a=this.unescapeFilePostParams(a);this.queueEvent("upload_complete_handler",a)},debug:function(a){this.queueEvent("debug_handler",a)},debugMessage:function(a){var c,b;if(this.settings.debug){c=[];if("object"===typeof a&&"string"===typeof a.name&&"string"===typeof a.message){for(b in a)a.hasOwnProperty(b)&&c.push(b+": "+a[b]);a=c.join("\n")||"";c=a.split("\n");
a="EXCEPTION: "+c.join("\nEXCEPTION: ")}f.Console.writeLine(a)}}});f.Console={};f.Console.writeLine=function(a){var c,b;try{c=document.getElementById("SWFUpload_Console"),c||(b=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(b),c=document.createElement("textarea"),c.id="SWFUpload_Console",c.style.fontFamily="monospace",c.setAttribute("wrap","off"),c.wrap="off",c.style.overflow="auto",c.style.width="700px",c.style.height="350px",c.style.margin="5px",b.appendChild(c)),
c.value+=a+"\n",c.scrollTop=c.scrollHeight-c.clientHeight}catch(d){alert("Exception: "+d.name+" Message: "+d.message)}}}.call(FOCUS,SWFUpload);
swfobject=function(){function f(){if(!F){try{var a=p.getElementsByTagName("body")[0].appendChild(p.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}F=!0;for(var a=H.length,c=0;c<a;c++)H[c]()}}function l(a){F?a():H[H.length]=a}function n(a){if(typeof x.addEventListener!=t)x.addEventListener("load",a,!1);else if(typeof p.addEventListener!=t)p.addEventListener("load",a,!1);else if(typeof x.attachEvent!=t)q(x,"onload",a);else if("function"==typeof x.onload){var b=x.onload;x.onload=function(){b();
a()}}else x.onload=a}function d(){var a=p.getElementsByTagName("body")[0],b=p.createElement(z);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;(function(){if(typeof c.GetVariable!=t){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),m.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d){d++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;k()})()}else k()}function k(){var d=D.length;if(0<d)for(var e=0;e<d;e++){var f=D[e].id,h=D[e].callbackFn,
k={success:!1,id:f};if(0<m.pv[0]){var q=s(f);if(q)if(u(D[e].swfVersion)&&!(m.wk&&312>m.wk))E(f,!0),h&&(k.success=!0,k.ref=a(f),h(k));else if(D[e].expressInstall&&c()){k={};k.data=D[e].expressInstall;k.width=q.getAttribute("width")||"0";k.height=q.getAttribute("height")||"0";q.getAttribute("class")&&(k.styleclass=q.getAttribute("class"));q.getAttribute("align")&&(k.align=q.getAttribute("align"));for(var l={},q=q.getElementsByTagName("param"),p=q.length,n=0;n<p;n++)"movie"!=q[n].getAttribute("name").toLowerCase()&&
(l[q[n].getAttribute("name")]=q[n].getAttribute("value"));b(k,l,f,h)}else g(q),h&&h(k)}else if(E(f,!0),h){if((f=a(f))&&typeof f.SetVariable!=t)k.success=!0,k.ref=f;h(k)}}}function a(a){var b=null;if((a=s(a))&&"OBJECT"==a.nodeName)typeof a.SetVariable!=t?b=a:(a=a.getElementsByTagName(z)[0])&&(b=a);return b}function c(){return!J&&u("6.0.65")&&(m.win||m.mac)&&!(m.wk&&312>m.wk)}function b(a,b,c,d){J=!0;L=d||null;P={success:!1,id:c};var f=s(c);if(f){"OBJECT"==f.nodeName?(y=e(f),K=null):(y=f,K=c);a.id=
N;if(typeof a.width==t||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==t||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";p.title=p.title.slice(0,47)+" - Flash Player Installation";d=m.ie&&m.win?"ActiveX":"PlugIn";d="MMredirectURL="+x.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+p.title;b.flashvars=typeof b.flashvars!=t?b.flashvars+("&"+d):d;m.ie&&(m.win&&4!=f.readyState)&&(d=p.createElement("div"),c+="SWFObjectNew",d.setAttribute("id",
c),f.parentNode.insertBefore(d,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());h(a,b,c)}}function g(a){if(m.ie&&m.win&&4!=a.readyState){var b=p.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(e(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(e(a),a)}function e(a){var b=p.createElement("div");if(m.win&&
m.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(z)[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)!(1==a[d].nodeType&&"PARAM"==a[d].nodeName)&&8!=a[d].nodeType&&b.appendChild(a[d].cloneNode(!0));return b}function h(a,b,c){var d,e=s(c);if(m.wk&&312>m.wk)return d;if(e)if(typeof a.id==t&&(a.id=c),m.ie&&m.win){var f="",g;for(g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+
g+'="'+a[g]+'"'));g="";for(var h in b)b[h]!=Object.prototype[h]&&(g+='<param name="'+h+'" value="'+b[h]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+g+"</object>";I[I.length]=a.id;d=s(a.id)}else{h=p.createElement(z);h.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?h.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&h.setAttribute(k,a[k]));for(f in b)b[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&
(a=h,g=f,k=b[f],c=p.createElement("param"),c.setAttribute("name",g),c.setAttribute("value",k),a.appendChild(c));e.parentNode.replaceChild(h,e);d=h}return d}function r(a){var b=s(a);b&&"OBJECT"==b.nodeName&&(m.ie&&m.win?(b.style.display="none",function(){if(4==b.readyState){var c=s(a);if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function s(a){var b=null;try{b=p.getElementById(a)}catch(c){}return b}
function q(a,b,c){a.attachEvent(b,c);A[A.length]=[a,b,c]}function u(a){var b=m.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function w(a,b,c,d){if(!m.ie||!m.mac){var e=p.getElementsByTagName("head")[0];if(e){c=c&&"string"==typeof c?c:"screen";d&&(M=B=null);if(!B||M!=c)d=p.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),B=e.appendChild(d),
m.ie&&(m.win&&typeof p.styleSheets!=t&&0<p.styleSheets.length)&&(B=p.styleSheets[p.styleSheets.length-1]),M=c;m.ie&&m.win?B&&typeof B.addRule==z&&B.addRule(a,b):B&&typeof p.createTextNode!=t&&B.appendChild(p.createTextNode(a+" {"+b+"}"))}}}function E(a,b){if(Q){var c=b?"visible":"hidden";F&&s(a)?s(a).style.visibility=c:w("#"+a,"visibility:"+c)}}function v(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=t?encodeURIComponent(a):a}var t="undefined",z="object",G="application/x-shockwave-flash",
N="SWFObjectExprInst",x=window,p=document,C=navigator,O=!1,H=[function(){O?d():k()}],D=[],I=[],A=[],y,K,L,P,F=!1,J=!1,B,M,Q=!0,m=function(){var a=typeof p.getElementById!=t&&typeof p.getElementsByTagName!=t&&typeof p.createElement!=t,b=C.userAgent.toLowerCase(),c=C.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,e=!+"\v1",f=[0,0,0],g=null;if(typeof C.plugins!=t&&typeof C.plugins["Shockwave Flash"]==
z){if((g=C.plugins["Shockwave Flash"].description)&&!(typeof C.mimeTypes!=t&&C.mimeTypes[G]&&!C.mimeTypes[G].enabledPlugin))O=!0,e=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),f[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),f[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),f[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof x.ActiveXObject!=t)try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(h&&(g=h.GetVariable("$version")))e=!0,g=g.split(" ")[1].split(","),
f=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]}catch(k){}return{w3:a,pv:f,wk:b,ie:e,win:d,mac:c}}();(function(){m.w3&&((typeof p.readyState!=t&&"complete"==p.readyState||typeof p.readyState==t&&(p.getElementsByTagName("body")[0]||p.body))&&f(),F||(typeof p.addEventListener!=t&&p.addEventListener("DOMContentLoaded",f,!1),m.ie&&m.win&&(p.attachEvent("onreadystatechange",function(){"complete"==p.readyState&&(p.detachEvent("onreadystatechange",arguments.callee),f())}),x==top&&function(){if(!F){try{p.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,
0);return}f()}}()),m.wk&&function(){F||(/loaded|complete/.test(p.readyState)?f():setTimeout(arguments.callee,0))}(),n(f)))})();(function(){m.ie&&m.win&&window.attachEvent("onunload",function(){for(var a=A.length,b=0;b<a;b++)A[b][0].detachEvent(A[b][1],A[b][2]);a=I.length;for(b=0;b<a;b++)r(I[b]);for(var c in m)m[c]=null;m=null;for(var d in swfobject)swfobject[d]=null;swfobject=null})})();return{registerObject:function(a,b,c,d){if(m.w3&&a&&b){var e={};e.id=a;e.swfVersion=b;e.expressInstall=c;e.callbackFn=
d;D[D.length]=e;E(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(b){if(m.w3)return a(b)},embedSWF:function(a,d,e,f,g,k,q,n,p,r){var s={success:!1,id:d};m.w3&&!(m.wk&&312>m.wk)&&a&&d&&e&&f&&g?(E(d,!1),l(function(){e+="";f+="";var l={};if(p&&typeof p===z)for(var m in p)l[m]=p[m];l.data=a;l.width=e;l.height=f;m={};if(n&&typeof n===z)for(var w in n)m[w]=n[w];if(q&&typeof q===z)for(var v in q)m.flashvars=typeof m.flashvars!=t?m.flashvars+("&"+v+"="+q[v]):v+"="+q[v];if(u(g))w=h(l,m,d),l.id==
d&&E(d,!0),s.success=!0,s.ref=w;else{if(k&&c()){l.data=k;b(l,m,d,r);return}E(d,!0)}r&&r(s)})):r&&r(s)},switchOffAutoHideShow:function(){Q=!1},ua:m,getFlashPlayerVersion:function(){return{major:m.pv[0],minor:m.pv[1],release:m.pv[2]}},hasFlashPlayerVersion:u,createSWF:function(a,b,c){if(m.w3)return h(a,b,c)},showExpressInstall:function(a,d,e,f){m.w3&&c()&&b(a,d,e,f)},removeSWF:function(a){m.w3&&r(a)},createCSS:function(a,b,c,d){m.w3&&w(a,b,c,d)},addDomLoadEvent:l,addLoadEvent:n,getQueryParamValue:function(a){var b=
p.location.search||p.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return v(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return v(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(J){var a=s(N);a&&y&&(a.parentNode.replaceChild(y,a),K&&(E(K,!0),m.ie&&m.win&&(y.style.display="block")),L&&L(P));J=!1}}}}();swfobject.addDomLoadEvent(function(){"function"===typeof SWFUpload.onload&&SWFUpload.onload.call(window)});
void function(f,l,n){var d=this.util;f=this.widget;var k=f.Upload,a=this.BASEPATH,c=this.PATH_FLASH,b=this.PATH_FLASH_FP9,g=k.MODE,e=k.CURSOR,h=k.CSS,r={flash_url:"flashURL",flash9_url:"flash9URL",upload_url:"uploadURL",file_post_name:"filePostName",post_params:"postParams",file_types:"fileTypes",file_types_description:"fileTypesDescription",file_upload_limit:"uploadLimit",file_size_limit:"sizeLimit",file_queue_limit:"queueLimit",button_placeholder_id:"placeholder",swfupload_loaded_handler:"events.ready",
swfupload_load_failed_handler:"events.fail",file_dialog_start_handler:"events.dialogStart",file_queued_handler:"events.queued",file_queue_error_handler:"events.queueError",file_dialog_complete_handler:"events.dialogComplete",upload_start_handler:"events.uploadStart",upload_progress_handler:"events.uploadProgress",upload_error_handler:"events.uploadError",upload_success_handler:"events.uploadSuccess",upload_complete_handler:"events.uploadComplete",debug:"debug",button_width:"button.width",button_height:"button.height",
button_text:"button.text"},s=function(a){a=(a||"").split(/\./);for(var b=this,c=!1,d;d=a.shift();)if(d in b)c=!0,b=b[d];else{c=!1;break}return{has:c,value:c?b:null}};f.Upload_Flash=function(d){this.constructor=arguments.callee;this.mode=g.FLASH;this.cfg={};this.elems={};this._={flash_cfg:{flash_url:c||a+"widget/upload/flash/swfupload.swf",flash9_url:b||a+"wigdet/upload/flash/swfupload_fp9.swf",debug:!1,file_upload_limit:-1,button_width:650,button_height:200,button_cursor:e.POINTER,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT},
status:k.TURNING.ON};this.set(d);this.init();this.instance=new SWFUpload(this._.flash_cfg)};f.Upload_Flash.prototype=new f.UploadBase;d.extend(!0,f.Upload_Flash.prototype,{init:function(){this.elems.holder=l.createElement("div");this.elems.flashWrap=l.createElement("div");this.elems.flashHolder=l.createElement("span");var a=this.elems.flashHolder.id="FOCUS_UPLOAD_FlashHolder_"+d.random(0,1E3),b=d.query?d.query(this._.flash_cfg.button_placeholder_id):l.getElementById(this._.flash_cfg.button_placeholder_id.replace(/^#/,
""));"length"in b&&(b=b[0]);b&&(b.parentNode.insertBefore(this.elems.holder,b),b.parentNode.removeChild(b),this.elems.holder.appendChild(this.elems.flashWrap),this.elems.flashWrap.appendChild(this.elems.flashHolder));this.__setStyle("flash",this.elems.holder,this.elems.flashWrap,this._.flash_cfg.button_text);this._.flash_cfg.button_placeholder_id=a;this._.flash_cfg.button_text=""},set:function(a){d.extend(!0,this.cfg,a);this.__setFlashCfg(this.cfg)},__setFlashCfg:function(a){var b,c;for(c in r)b=
s.call(a,r[c]),b.has&&(this._.flash_cfg[c]=b.value);this._.flash_cfg.button_action=SWFUpload.BUTTON_ACTION[a.multiple?"SELECT_FILES":"SELECT_FILE"];this.isReady&&(this.multiple(this.cfg.multiple),this.setFileTypes(this.cfg.fileTypes),this.setFileSizeLimit(this.cfg.sizeLimit),this.setUploadURL(this.cfg.uploadURL),this.setFilePostName(this.cfg.filePostName),this.setFileQueueLimit(this.cfg.queueLimit))},__setStyle:function(a,b,c,e){b.className=h.WRAP;c.className=h.FLASH;a=b.getElementsByTagName("label");
a.length&&b.removeChild(a[0]);a=l.createElement("label");a.className=h.TEXT;a.innerHTML=e;b.insertBefore(a,c);d.event.bind(b,"mouseover",function(a){a.cancelBubble=!0;a.returnValue=!1;d.addClass(b,h.HOVER)});d.event.bind(b,"mouseout",function(a){a.cancelBubble=!0;a.returnValue=!1;d.removeClass(b,h.HOVER)})},startUpload:function(){this.ready(function(){this.instance.startUpload()})},cancelUpload:function(a){this.ready(function(){if("function"===d.type(a))this.one("uploadError",a);this.instance.cancelUpload(0,
!0)})},stopUpload:function(a){if("function"===d.type(a))this.one("uploadError",a);this.instance.stopUpload()},getQueueFile:function(a){return new k.File4Flash(this.instance.getQueueFile(a))},setPostParam:function(a){this.ready(function(){this.instance.setPostParam(a)})},addPostParam:function(a,b){this.ready(function(){this.instance.addPostParam(a,b)})},removePostParam:function(a){this.ready(function(){this.instance.removePostParam(a)})},setUploadURL:function(a){this.ready(function(){this.cfg.uploadURL=
a;this.instance.setUploadURL(a)})},setFilePostName:function(a){this.ready(function(){this.instance.setFilePostName(a)})},setFileTypes:function(a,b){this.ready(function(){this.cfg.fileTypes=d.convert2MimeTypes(a);this.instance.setFileTypes(d.convertMimeTypes(a),b||this.cfg.fileTypesDescription)})},setFileSizeLimit:function(a){this.ready(function(){this.cfg.sizeLimit=limt;this.instance.setFileSizeLimit(a)})},setFileQueueLimit:function(a){this.ready(function(){this.cfg.queueLimit=a;this.instance.setFileQueueLimit(a)})},
__translateStatus:function(a){var b=d.type(a);"string"===b?(a=d.trim(a),a=a.length?!!k.TURNING[a.toUpperCase()]:k.TURNING.OFF):a="undefined"===b?!_this._.status:!!a;return a},turn:function(a){a=this.__translateStatus(a);this._.status=a;d[a?"removeClass":"addClass"](this.elems.holder,h.DISABLED);this.ready(function(){this.instance.setButtonDisabled(!a);this.instance.setButtonCursor(e[a?"POINTER":"DEFAULT"])})},multiple:function(a){this.ready(function(){this.instance.setButtonAction(SWFUpload.BUTTON_ACTION[a?
"SELECT_FILES":"SELECT_FILE"])})}})}.call(FOCUS,this,document);
