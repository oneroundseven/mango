<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
    <title></title>
    <script type="text/javascript" src="Observer.js"></script>
</head>
<body>
<button id="addNewObserver">Add New Observer checkbox</button>
<input id="mainCheckbox" type="checkbox" />
<div id="observersContainer"></div>

<script>
    var controlCheckbox = document.getElementById('mainCheckbox'),
            addBtn = document.getElementById('addNewObserver'),
            container = document.getElementById('observersContainer');

    extend(new Subject(), controlCheckbox);

    controlCheckbox.onclick = new Function('controlCheckbox.Notify(controlCheckbox.checked)');
    addBtn.onclick = AddNewObsever;

    function AddNewObsever() {
        var check = document.createElement('input');
        check.type = 'checkbox';

        extend(new Observer(),check);

        check.Update = function(value) {
            this.checked = value;
        }

        controlCheckbox.AddObserver(check);
        container.appendChild(check);
    }
</script>
</body>
</html>